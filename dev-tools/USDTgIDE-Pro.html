<!--
==============================================
 File:        USDTgIDE-Pro.html
 Author:      Irfan Gedik
 Created:     27.09.2025
 Last Update: 27.09.2025
 Version:     1.0

 Description:
   USDTgScript IDE Pro - Professional Development Environment
   
   Professional web-based IDE for USDTgScript development featuring:
   - Advanced code editor with syntax highlighting
   - Real-time compilation and error checking
   - Professional debugging tools
   - Project management capabilities
   - Enterprise development environment

 License:
   MIT License
==============================================
-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>USDTgScript IDE Pro - Professional Development Environment</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'usdtg-primary': '#667eea',
                        'usdtg-secondary': '#764ba2',
                        'usdtg-accent': '#00d4ff',
                        'usdtg-success': '#28a745',
                        'usdtg-warning': '#ffc107',
                        'usdtg-danger': '#dc3545'
                    }
                }
            }
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            background: #1e1e1e;
            color: #cccccc;
            height: 100vh;
            overflow: hidden;
        }
        
        .flex flex-col h-screen {
            display: flex;
            height: 100vh;
            flex-direction: column;
        }
        
        /* Top Menu Bar */
        .menu-bar {
            background: #2d2d30;
            height: 35px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            border-bottom: 1px solid #3e3e42;
            justify-content: space-between;
        }
        
        .menu-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            color: #007acc;
        }
        
        .menu-items {
            display: flex;
            gap: 15px;
        }
        
        .menu-item {
            color: #cccccc;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 3px;
            transition: background-color 0.2s;
        }
        
        .menu-item:hover {
            background: #404040;
        }
        
        .menu-right {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .status-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4caf50;
        }
        
        /* Main Content Area */
        .main-content {
            display: flex;
            flex: 1;
            height: calc(100vh - 35px);
        }
        
        /* Sidebar */
        .sidebar {
            width: 250px;
            background: #252526;
            border-right: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
        }
        
        .file-explorer {
            flex: 1;
            padding: 10px;
        }
        
        .folder {
            margin-bottom: 5px;
        }
        
        .folder-header {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 3px 5px;
            cursor: pointer;
            border-radius: 3px;
        }
        
        .folder-header:hover {
            background: #37373d;
        }
        
        .folder-icon {
            font-size: 12px;
        }
        
        .file-list {
            margin-left: 15px;
            margin-top: 3px;
        }
        
        .file-item {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 3px 5px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 13px;
        }
        
        .file-item:hover {
            background: #37373d;
        }
        
        .file-item.active {
            background: #094771;
            color: white;
        }
        
        /* Editor Area */
        .editor-area {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .tabs {
            display: flex;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            min-height: 35px;
        }
        
        .tab {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background: #2d2d30;
            border-right: 1px solid #3e3e42;
            cursor: pointer;
            font-size: 13px;
            max-width: 200px;
        }
        
        .tab.active {
            background: #1e1e1e;
        }
        
        .tab:hover {
            background: #37373d;
        }
        
        .tab-close {
            color: #999;
            font-size: 16px;
            line-height: 1;
        }
        
        .tab-close:hover {
            color: #fff;
        }
        
        .editor {
            flex: 1;
            background: #1e1e1e;
            position: relative;
        }
        
        #monaco-editor {
            width: 100%;
            height: 100%;
        }
        
        /* AI Assistant Panel */
        .ai-assistant-panel {
            width: 350px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .ai-assistant-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .ai-chat {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            max-height: calc(100vh - 200px);
        }

        .ai-message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            font-size: 13px;
            line-height: 1.4;
        }

        .ai-message.user {
            background: #0e639c;
            color: white;
            margin-left: 20px;
        }

        .ai-message.assistant {
            background: #37373d;
            color: #cccccc;
            margin-right: 20px;
        }

        .ai-input-area {
            padding: 15px;
            border-top: 1px solid #3e3e42;
            background: #2d2d30;
        }

        .ai-input {
            width: 100%;
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            color: #cccccc;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 13px;
            resize: none;
            min-height: 60px;
            max-height: 120px;
        }

        .ai-input:focus {
            outline: none;
            border-color: #007acc;
        }

        .ai-send-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 8px;
            transition: background-color 0.2s;
        }

        .ai-send-button:hover {
            background: #005a9e;
        }

        .ai-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .ai-suggestion {
            background: #37373d;
            color: #cccccc;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .ai-suggestion:hover {
            background: #404040;
        }

        /* Debug Panel */
        .debug-panel {
            width: 300px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .debug-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .debug-tabs {
            display: flex;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
        }

        .debug-tab {
            padding: 8px 12px;
            cursor: pointer;
            font-size: 12px;
            border-right: 1px solid #3e3e42;
            transition: background-color 0.2s;
        }

        .debug-tab.active {
            background: #252526;
        }

        .debug-tab:hover {
            background: #37373d;
        }

        .debug-content {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
        }

        .breakpoint-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .breakpoint-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 8px;
            border-radius: 4px;
            margin-bottom: 4px;
            font-size: 12px;
            cursor: pointer;
        }

        .breakpoint-item:hover {
            background: #37373d;
        }

        .breakpoint-item.active {
            background: #094771;
        }

        .breakpoint-toggle {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #d73a49;
            cursor: pointer;
        }

        .breakpoint-toggle.disabled {
            background: #666;
        }

        .variables-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .variable-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 8px;
            border-radius: 4px;
            margin-bottom: 4px;
            font-size: 12px;
            background: #37373d;
        }

        .variable-name {
            color: #4fc1ff;
            font-weight: bold;
        }

        .variable-value {
            color: #cccccc;
        }

        .call-stack {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .stack-frame {
            padding: 8px;
            border-bottom: 1px solid #3e3e42;
            font-size: 12px;
            cursor: pointer;
        }

        .stack-frame:hover {
            background: #37373d;
        }

        .stack-frame.active {
            background: #094771;
        }

        .stack-function {
            color: #4fc1ff;
            font-weight: bold;
        }

        .stack-location {
            color: #999;
            font-size: 11px;
        }

        .debug-controls {
            padding: 10px;
            border-top: 1px solid #3e3e42;
            background: #2d2d30;
            display: flex;
            gap: 8px;
        }

        .debug-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: background-color 0.2s;
        }

        .debug-button:hover {
            background: #005a9e;
        }

        .debug-button.secondary {
            background: #0e639c;
        }

        .debug-button.danger {
            background: #d73a49;
        }

        /* Project Management */
        .project-menu {
            position: absolute;
            top: 35px;
            left: 0;
            background: #2d2d30;
            border: 1px solid #3e3e42;
            border-radius: 4px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            min-width: 200px;
            display: none;
        }

        .project-menu-item {
            padding: 8px 16px;
            color: #cccccc;
            cursor: pointer;
            font-size: 13px;
            border-bottom: 1px solid #3e3e42;
            transition: background-color 0.2s;
        }

        .project-menu-item:hover {
            background: #37373d;
        }

        .project-menu-item:last-child {
            border-bottom: none;
        }

        .project-menu-item.disabled {
            color: #666;
            cursor: not-allowed;
        }

        .project-dialog {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #2d2d30;
            border: 1px solid #3e3e42;
            border-radius: 8px;
            padding: 20px;
            z-index: 2000;
            min-width: 400px;
            display: none;
        }

        .project-dialog h3 {
            color: #cccccc;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .project-input {
            width: 100%;
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            color: #cccccc;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 13px;
            margin-bottom: 15px;
        }

        .project-input:focus {
            outline: none;
            border-color: #007acc;
        }

        .project-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .project-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background-color 0.2s;
        }

        .project-button:hover {
            background: #005a9e;
        }

        .project-button.secondary {
            background: #6c757d;
        }

        .project-button.secondary:hover {
            background: #5a6268;
        }

        /* Git Integration */
        .git-panel {
            width: 300px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .git-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .git-tabs {
            display: flex;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
        }

        .git-tab {
            padding: 8px 12px;
            cursor: pointer;
            font-size: 12px;
            border-right: 1px solid #3e3e42;
            transition: background-color 0.2s;
        }

        .git-tab.active {
            background: #252526;
        }

        .git-tab:hover {
            background: #37373d;
        }

        .git-content {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
        }

        .git-status {
            margin-bottom: 15px;
        }

        .git-status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 4px 8px;
            border-radius: 4px;
            margin-bottom: 4px;
            font-size: 12px;
        }

        .git-status-item.modified {
            background: #ffa500;
            color: #000;
        }

        .git-status-item.added {
            background: #28a745;
            color: #fff;
        }

        .git-status-item.deleted {
            background: #dc3545;
            color: #fff;
        }

        .git-status-item.untracked {
            background: #6c757d;
            color: #fff;
        }

        .git-commit-area {
            margin-top: 15px;
        }

        .git-commit-input {
            width: 100%;
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            color: #cccccc;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            margin-bottom: 8px;
            resize: none;
            min-height: 60px;
        }

        .git-commit-input:focus {
            outline: none;
            border-color: #007acc;
        }

        .git-commit-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: background-color 0.2s;
        }

        .git-commit-button:hover {
            background: #218838;
        }

        .git-branch-selector {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            color: #cccccc;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 11px;
            margin-bottom: 8px;
        }

        .git-history {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .git-commit {
            padding: 8px;
            border-bottom: 1px solid #3e3e42;
            font-size: 11px;
            cursor: pointer;
        }

        .git-commit:hover {
            background: #37373d;
        }

        .git-commit-hash {
            color: #4fc1ff;
            font-weight: bold;
            font-family: monospace;
        }

        .git-commit-message {
            color: #cccccc;
            margin: 4px 0;
        }

        .git-commit-author {
            color: #999;
            font-size: 10px;
        }

        .git-commit-date {
            color: #666;
            font-size: 10px;
        }

        /* File Upload/Download */
        .file-upload-area {
            border: 2px dashed #3e3e42;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin: 10px 0;
            cursor: pointer;
            transition: border-color 0.2s;
        }

        .file-upload-area:hover {
            border-color: #007acc;
        }

        .file-upload-area.dragover {
            border-color: #4caf50;
            background: rgba(76, 175, 80, 0.1);
        }

        .file-upload-input {
            display: none;
        }

        .file-download-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            margin: 2px;
            transition: background-color 0.2s;
        }

        .file-download-button:hover {
            background: #218838;
        }

        .file-upload-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            margin: 2px;
            transition: background-color 0.2s;
        }

        .file-upload-button:hover {
            background: #005a9e;
        }

        .file-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #3e3e42;
            font-size: 12px;
        }

        .file-list-item:hover {
            background: #37373d;
        }

        .file-name {
            color: #cccccc;
            flex: 1;
        }

        .file-size {
            color: #999;
            margin-right: 10px;
        }

        .file-actions {
            display: flex;
            gap: 4px;
        }

        /* Real-time Collaboration */
        .collaboration-panel {
            width: 300px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .collaboration-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .collaboration-tabs {
            display: flex;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
        }

        .collaboration-tab {
            padding: 8px 12px;
            cursor: pointer;
            font-size: 12px;
            border-right: 1px solid #3e3e42;
            transition: background-color 0.2s;
        }

        .collaboration-tab.active {
            background: #252526;
        }

        .collaboration-tab:hover {
            background: #37373d;
        }

        .collaboration-content {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
        }

        .user-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .user-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 4px;
            font-size: 12px;
        }

        .user-item:hover {
            background: #37373d;
        }

        .user-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #007acc;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 10px;
        }

        .user-name {
            color: #cccccc;
            flex: 1;
        }

        .user-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #28a745;
        }

        .user-status.away {
            background: #ffc107;
        }

        .user-status.offline {
            background: #6c757d;
        }

        .chat-messages {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        .chat-message {
            margin-bottom: 8px;
            padding: 6px 8px;
            border-radius: 4px;
            font-size: 11px;
        }

        .chat-message.user {
            background: #37373d;
            color: #cccccc;
        }

        .chat-message.system {
            background: #094771;
            color: #4fc1ff;
        }

        .chat-input {
            width: 100%;
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            color: #cccccc;
            padding: 6px 8px;
            border-radius: 4px;
            font-size: 11px;
            resize: none;
            min-height: 40px;
        }

        .chat-input:focus {
            outline: none;
            border-color: #007acc;
        }

        .collaboration-controls {
            padding: 10px;
            border-top: 1px solid #3e3e42;
            background: #2d2d30;
            display: flex;
            gap: 8px;
        }

        .collaboration-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: background-color 0.2s;
        }

        .collaboration-button:hover {
            background: #005a9e;
        }

        .collaboration-button.secondary {
            background: #6c757d;
        }

        .collaboration-button.secondary:hover {
            background: #5a6268;
        }

        /* Themes & Customization */
        .themes-panel {
            width: 300px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .themes-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .themes-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .theme-section {
            margin-bottom: 20px;
        }

        .theme-section h4 {
            color: #cccccc;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .theme-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .theme-option:hover {
            background: #37373d;
        }

        .theme-option.active {
            background: #094771;
        }

        .theme-preview {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid #666;
        }

        .theme-name {
            color: #cccccc;
            font-size: 12px;
        }

        .font-size-control {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .font-size-control label {
            color: #cccccc;
            font-size: 12px;
        }

        .font-size-control input {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            color: #cccccc;
            padding: 4px 8px;
            border-radius: 3px;
            width: 60px;
        }

        .customization-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #3e3e42;
        }

        .customization-option:last-child {
            border-bottom: none;
        }

        .customization-label {
            color: #cccccc;
            font-size: 12px;
        }

        .customization-toggle {
            width: 40px;
            height: 20px;
            background: #666;
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .customization-toggle.active {
            background: #007acc;
        }

        .customization-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            transition: transform 0.2s;
        }

        .customization-toggle.active::after {
            transform: translateX(20px);
        }

        /* Plugin System */
        .plugins-panel {
            width: 300px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .plugins-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .plugins-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .plugin-section {
            margin-bottom: 20px;
        }

        .plugin-section h4 {
            color: #cccccc;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .plugin-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 8px;
            background: #37373d;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .plugin-item:hover {
            background: #404040;
        }

        .plugin-item.enabled {
            background: #094771;
        }

        .plugin-icon {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            background: #007acc;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }

        .plugin-info {
            flex: 1;
        }

        .plugin-name {
            color: #cccccc;
            font-size: 12px;
            font-weight: bold;
        }

        .plugin-description {
            color: #999;
            font-size: 10px;
            margin-top: 2px;
        }

        .plugin-toggle {
            width: 40px;
            height: 20px;
            background: #666;
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .plugin-toggle.active {
            background: #28a745;
        }

        .plugin-toggle::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            transition: transform 0.2s;
        }

        .plugin-toggle.active::after {
            transform: translateX(20px);
        }

        .plugin-actions {
            display: flex;
            gap: 4px;
            margin-top: 10px;
        }

        .plugin-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 10px;
            transition: background-color 0.2s;
        }

        .plugin-button:hover {
            background: #005a9e;
        }

        .plugin-button.secondary {
            background: #6c757d;
        }

        .plugin-button.secondary:hover {
            background: #5a6268;
        }

        /* Performance Profiling */
        .performance-panel {
            width: 300px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .performance-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .performance-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .performance-section {
            margin-bottom: 20px;
        }

        .performance-section h4 {
            color: #cccccc;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .performance-metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #3e3e42;
        }

        .performance-metric:last-child {
            border-bottom: none;
        }

        .metric-label {
            color: #cccccc;
            font-size: 12px;
        }

        .metric-value {
            color: #4fc1ff;
            font-size: 12px;
            font-weight: bold;
        }

        .metric-value.good {
            color: #28a745;
        }

        .metric-value.warning {
            color: #ffc107;
        }

        .metric-value.error {
            color: #dc3545;
        }

        .performance-chart {
            height: 100px;
            background: #1e1e1e;
            border-radius: 4px;
            margin: 10px 0;
            position: relative;
            overflow: hidden;
        }

        .chart-bar {
            position: absolute;
            bottom: 0;
            width: 4px;
            background: #007acc;
            border-radius: 2px 2px 0 0;
        }

        .performance-controls {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }

        .performance-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: background-color 0.2s;
        }

        .performance-button:hover {
            background: #005a9e;
        }

        .performance-button.secondary {
            background: #6c757d;
        }

        .performance-button.secondary:hover {
            background: #5a6268;
        }

        .performance-button.danger {
            background: #dc3545;
        }

        .performance-button.danger:hover {
            background: #c82333;
        }

        /* Test Framework */
        .tests-panel {
            width: 300px;
            background: #252526;
            border-left: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .tests-header {
            padding: 10px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            font-weight: bold;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tests-content {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }

        .test-section {
            margin-bottom: 20px;
        }

        .test-section h4 {
            color: #cccccc;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .test-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            border-radius: 4px;
            margin-bottom: 8px;
            background: #37373d;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .test-item:hover {
            background: #404040;
        }

        .test-item.passed {
            background: #094771;
        }

        .test-item.failed {
            background: #771111;
        }

        .test-item.running {
            background: #775511;
        }

        .test-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        .test-icon.passed {
            background: #28a745;
            color: white;
        }

        .test-icon.failed {
            background: #dc3545;
            color: white;
        }

        .test-icon.running {
            background: #ffc107;
            color: black;
        }

        .test-icon.pending {
            background: #6c757d;
            color: white;
        }

        .test-info {
            flex: 1;
        }

        .test-name {
            color: #cccccc;
            font-size: 12px;
            font-weight: bold;
        }

        .test-description {
            color: #999;
            font-size: 10px;
            margin-top: 2px;
        }

        .test-status {
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 3px;
        }

        .test-status.passed {
            background: #28a745;
            color: white;
        }

        .test-status.failed {
            background: #dc3545;
            color: white;
        }

        .test-status.running {
            background: #ffc107;
            color: black;
        }

        .test-status.pending {
            background: #6c757d;
            color: white;
        }

        .test-controls {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }

        .test-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: background-color 0.2s;
        }

        .test-button:hover {
            background: #005a9e;
        }

        .test-button.secondary {
            background: #6c757d;
        }

        .test-button.secondary:hover {
            background: #5a6268;
        }

        .test-button.success {
            background: #28a745;
        }

        .test-button.success:hover {
            background: #218838;
        }

        .test-button.danger {
            background: #dc3545;
        }

        .test-button.danger:hover {
            background: #c82333;
        }

        /* Documentation Panel */
        .documentation-panel {
            position: fixed;
            left: 0;
            top: 0;
            width: 350px;
            height: 100vh;
            background: #1e1e1e;
            border-right: 1px solid #333;
            z-index: 1000;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            overflow-y: auto;
        }

        .documentation-panel.open {
            transform: translateX(0);
        }

        .documentation-header {
            padding: 15px;
            background: #2d2d2d;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            color: #fff;
        }

        .documentation-content {
            padding: 15px;
        }

        .documentation-section {
            margin-bottom: 20px;
        }

        .documentation-section h4 {
            color: #4CAF50;
            margin-bottom: 10px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .documentation-item {
            margin-bottom: 15px;
            padding: 10px;
            background: #2a2a2a;
            border-radius: 5px;
            border-left: 3px solid #4CAF50;
        }

        .documentation-item h5 {
            color: #fff;
            margin-bottom: 5px;
            font-size: 13px;
        }

        .documentation-item p {
            color: #ccc;
            font-size: 12px;
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .documentation-item code {
            background: #1a1a1a;
            color: #4CAF50;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 11px;
        }

        .documentation-item .example {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 3px;
            padding: 8px;
            margin-top: 8px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            color: #fff;
        }

        .documentation-search {
            margin-bottom: 15px;
        }

        .documentation-search input {
            width: 100%;
            padding: 8px;
            background: #2a2a2a;
            border: 1px solid #333;
            border-radius: 3px;
            color: #fff;
            font-size: 12px;
        }

        .documentation-search input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .documentation-tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 1px solid #333;
        }

        .documentation-tab {
            padding: 8px 12px;
            background: none;
            border: none;
            color: #ccc;
            cursor: pointer;
            font-size: 12px;
            border-bottom: 2px solid transparent;
        }

        .documentation-tab.active {
            color: #4CAF50;
            border-bottom-color: #4CAF50;
        }

        .documentation-tab:hover {
            color: #fff;
        }

        /* Settings Panel */
        .settings-panel {
            position: fixed;
            left: 0;
            top: 0;
            width: 350px;
            height: 100vh;
            background: #1e1e1e;
            border-right: 1px solid #333;
            z-index: 1000;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
            overflow-y: auto;
        }

        .settings-panel.open {
            transform: translateX(0);
        }

        .settings-header {
            padding: 15px;
            background: #2d2d2d;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            color: #fff;
        }

        .settings-content {
            padding: 15px;
        }

        .settings-section {
            margin-bottom: 25px;
        }

        .settings-section h4 {
            color: #4CAF50;
            margin-bottom: 15px;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .settings-item {
            margin-bottom: 15px;
            padding: 12px;
            background: #2a2a2a;
            border-radius: 5px;
            border-left: 3px solid #4CAF50;
        }

        .settings-item h5 {
            color: #fff;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .settings-item p {
            color: #ccc;
            font-size: 11px;
            line-height: 1.4;
            margin-bottom: 10px;
        }

        .settings-control {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .settings-control:last-child {
            margin-bottom: 0;
        }

        .settings-control label {
            color: #fff;
            font-size: 12px;
            cursor: pointer;
        }

        .settings-control input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: #4CAF50;
        }

        .settings-control input[type="range"] {
            width: 120px;
            accent-color: #4CAF50;
        }

        .settings-control select {
            background: #1a1a1a;
            color: #fff;
            border: 1px solid #333;
            border-radius: 3px;
            padding: 4px 8px;
            font-size: 11px;
        }

        .settings-control input[type="text"] {
            background: #1a1a1a;
            color: #fff;
            border: 1px solid #333;
            border-radius: 3px;
            padding: 4px 8px;
            font-size: 11px;
            width: 120px;
        }

        .settings-control input[type="text"]:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .settings-control select:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .settings-value {
            color: #4CAF50;
            font-size: 11px;
            font-weight: bold;
        }

        .settings-buttons {
            display: flex;
            gap: 8px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #333;
        }

        .settings-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: background-color 0.2s;
        }

        .settings-button:hover {
            background: #45a049;
        }

        .settings-button.secondary {
            background: #6c757d;
        }

        .settings-button.secondary:hover {
            background: #5a6268;
        }

        .settings-button.danger {
            background: #dc3545;
        }

        .settings-button.danger:hover {
            background: #c82333;
        }

        /* Bottom Panel */
        .bottom-panel {
            height: 200px;
            background: #252526;
            border-top: 1px solid #3e3e42;
            display: flex;
            flex-direction: column;
        }
        
        .panel-tabs {
            display: flex;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
            height: 35px;
        }
        
        .panel-tab {
            padding: 8px 15px;
            cursor: pointer;
            font-size: 13px;
            border-right: 1px solid #3e3e42;
        }
        
        .panel-tab.active {
            background: #252526;
        }
        
        .panel-tab:hover {
            background: #37373d;
        }
        
        .terminal {
            flex: 1;
            background: #1e1e1e;
            padding: 10px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            overflow-y: auto;
        }
        
        .terminal-line {
            margin-bottom: 2px;
        }
        
        .terminal-prompt {
            color: #4caf50;
        }
        
        /* Toolbar */
        .toolbar {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 15px;
            background: #2d2d30;
            border-bottom: 1px solid #3e3e42;
        }
        
        .toolbar-button {
            background: #007acc;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            transition: background-color 0.2s;
        }
        
        .toolbar-button:hover {
            background: #005a9e;
        }
        
        .toolbar-button.secondary {
            background: #0e639c;
        }
        
        .toolbar-button.danger {
            background: #d73a49;
        }
        
        .toolbar-button.success {
            background: #28a745;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                width: 200px;
            }
            
            .menu-items {
                display: none;
            }
            
            .bottom-panel {
                height: 150px;
            }
        }
        
        @media (max-width: 480px) {
            .sidebar {
                position: absolute;
                left: -250px;
                z-index: 1000;
                transition: left 0.3s ease;
            }
            
            .sidebar.open {
                left: 0;
            }
            
            .menu-bar {
                padding: 0 10px;
            }
        }
        
        /* Loading Screen */
        .fixed inset-0 bg-gray-900 flex flex-col items-center justify-center z-50 {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1e1e1e;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .text-6xl mb-4 {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .text-xl mb-8 {
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .w-64 h-2 bg-gray-700 rounded-full overflow-hidden {
            width: 300px;
            height: 4px;
            background: #3e3e42;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .loading-progress {
            height: 100%;
            background: linear-gradient(90deg, #007acc, #4caf50);
            width: 0%;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="h-screen overflow-hidden bg-gray-900 text-gray-300 font-mono">
    <!-- Loading Screen -->
    <div class="fixed inset-0 bg-gray-900 flex flex-col items-center justify-center z-50" id="loadingScreen">
        <div class="text-6xl mb-4">⚛️</div>
        <div class="text-xl mb-8">Loading USDTgScript IDE Pro...</div>
        <div class="w-64 h-2 bg-gray-700 rounded-full overflow-hidden">
            <div class="loading-progress" id="loadingProgress"></div>
        </div>
    </div>

    <!-- Main IDE Container -->
    <div class="flex flex-col h-screen" id="ideContainer" style="display: none;">
        <!-- Top Menu Bar -->
        <div class="menu-bar">
            <div class="menu-left">
                <div class="logo">
                    ⚛️ USDTgScript IDE Pro
                </div>
                <div class="menu-items">
                    <a href="#" class="menu-item" onclick="showProjectMenu()">File</a>
                    <a href="#" class="menu-item">Edit</a>
                    <a href="#" class="menu-item">View</a>
                    <a href="#" class="menu-item">Go</a>
                    <a href="#" class="menu-item">Run</a>
                    <a href="#" class="menu-item">Terminal</a>
                    <a href="#" class="menu-item">Help</a>
                </div>
            </div>
            <div class="menu-right">
                <div class="status-indicator">
                    <div class="status-dot"></div>
                    <span>USDTgVerse Connected</span>
                </div>
                <a href="../index.html" class="menu-item">← Dashboard</a>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="sidebar-header">
                    📁 Project Explorer
                </div>
                <div class="file-explorer">
                    <div class="folder">
                        <div class="folder-header">
                            <span class="folder-icon">📁</span>
                            <span>MyUSDTgProject</span>
                        </div>
                        <div class="file-list">
                            <div class="file-item active" onclick="openFile('contract.usdtg')">
                                <span>📄</span>
                                <span>contract.usdtg</span>
                            </div>
                            <div class="file-item" onclick="openFile('token.usdtg')">
                                <span>📄</span>
                                <span>token.usdtg</span>
                            </div>
                            <div class="file-item" onclick="openFile('deploy.js')">
                                <span>📄</span>
                                <span>deploy.js</span>
                            </div>
                            <div class="file-item" onclick="openFile('README.md')">
                                <span>📄</span>
                                <span>README.md</span>
                            </div>
                        </div>
                    </div>
                    <div class="folder">
                        <div class="folder-header">
                            <span class="folder-icon">📁</span>
                            <span>Libraries</span>
                        </div>
                        <div class="file-list">
                            <div class="file-item" onclick="openFile('USDTgSecurity.usdtg')">
                                <span>🛡️</span>
                                <span>USDTgSecurity.usdtg</span>
                            </div>
                            <div class="file-item" onclick="openFile('QuantumSafe.usdtg')">
                                <span>⚛️</span>
                                <span>QuantumSafe.usdtg</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Editor Area -->
            <div class="editor-area">
                <!-- Toolbar -->
                <div class="toolbar">
                    <button class="toolbar-button success" onclick="runCode()">▶️ Run</button>
                    <button class="toolbar-button" onclick="compileCode()">🔧 Compile</button>
                    <button class="toolbar-button secondary" onclick="deployContract()">🚀 Deploy</button>
                    <button class="toolbar-button" onclick="debugCode()">🐛 Debug</button>
                    <button class="toolbar-button" onclick="saveFile()">💾 Save</button>
                    <button class="toolbar-button danger" onclick="stopExecution()">⏹️ Stop</button>
                    <button class="toolbar-button" onclick="toggleAIAssistant()">🤖 AI Assistant</button>
                    <button class="toolbar-button" onclick="toggleDebugPanel()">🐛 Debug</button>
                    <button class="toolbar-button" onclick="toggleGitPanel()">📋 Git</button>
                    <button class="toolbar-button" onclick="toggleFileManager()">📁 Files</button>
                    <button class="toolbar-button" onclick="toggleCollaboration()">👥 Collaborate</button>
                    <button class="toolbar-button" onclick="toggleThemes()">🎨 Themes</button>
                    <button class="toolbar-button" onclick="togglePlugins()">🔌 Plugins</button>
                    <button class="toolbar-button" onclick="togglePerformance()">📊 Performance</button>
                    <button class="toolbar-button" onclick="toggleTests()">🧪 Tests</button>
                    <button class="toolbar-button" onclick="toggleDocumentation()">📚 Docs</button>
                    <button class="toolbar-button" onclick="toggleSettings()">⚙️ Settings</button>
                </div>

                <!-- Tabs -->
                <div class="tabs" id="tabsContainer">
                    <div class="tab active" data-file="contract.usdtg" onclick="switchTab(this)">
                        <span>📄</span>
                        <span>contract.usdtg</span>
                        <span class="tab-close" onclick="closeTab(this, event)">×</span>
                    </div>
                    <div class="tab" data-file="token.usdtg" onclick="switchTab(this)">
                        <span>📄</span>
                        <span>token.usdtg</span>
                        <span class="tab-close" onclick="closeTab(this, event)">×</span>
                    </div>
                </div>

                <!-- Monaco Editor -->
                <div class="editor">
                    <div id="monaco-editor"></div>
                </div>
            </div>

            <!-- AI Assistant Panel -->
            <div class="ai-assistant-panel" id="aiAssistantPanel" style="display: none;">
                <div class="ai-assistant-header">
                    <span>🤖</span>
                    <span>USDTgVerse AI Assistant</span>
                </div>
                <div class="ai-chat" id="aiChat">
                    <div class="ai-message assistant">
                        <strong>Welcome to USDTgVerse AI Assistant!</strong><br>
                        I can help you with:
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Code suggestions and optimization</li>
                            <li>Error debugging and fixes</li>
                            <li>USDTgScript best practices</li>
                            <li>Quantum-safe programming</li>
                            <li>Contract deployment guidance</li>
                        </ul>
                        How can I assist you today?
                    </div>
                </div>
                <div class="ai-input-area">
                    <textarea class="ai-input" id="aiInput" placeholder="Ask me anything about USDTgScript development..." onkeypress="handleAIKeyPress(event)"></textarea>
                    <button class="ai-send-button" onclick="sendAIMessage()">Send</button>
                    <div class="ai-suggestions">
                        <div class="ai-suggestion" onclick="sendAISuggestion('How do I create a quantum-safe token?')">Create quantum-safe token</div>
                        <div class="ai-suggestion" onclick="sendAISuggestion('Fix this compilation error')">Fix compilation error</div>
                        <div class="ai-suggestion" onclick="sendAISuggestion('Optimize gas usage')">Optimize gas usage</div>
                        <div class="ai-suggestion" onclick="sendAISuggestion('Explain this code')">Explain code</div>
                    </div>
                </div>
            </div>

            <!-- Debug Panel -->
            <div class="debug-panel" id="debugPanel" style="display: none;">
                <div class="debug-header">
                    <span>🐛</span>
                    <span>Debug Console</span>
                </div>
                <div class="debug-tabs">
                    <div class="debug-tab active" onclick="switchDebugTab('breakpoints')">Breakpoints</div>
                    <div class="debug-tab" onclick="switchDebugTab('variables')">Variables</div>
                    <div class="debug-tab" onclick="switchDebugTab('callstack')">Call Stack</div>
                </div>
                <div class="debug-content">
                    <!-- Breakpoints Tab -->
                    <div id="breakpoints-tab" class="debug-tab-content">
                        <ul class="breakpoint-list" id="breakpointList">
                            <li class="breakpoint-item" onclick="toggleBreakpoint(this)">
                                <div class="breakpoint-toggle"></div>
                                <span>contract.usdtg:25</span>
                            </li>
                            <li class="breakpoint-item" onclick="toggleBreakpoint(this)">
                                <div class="breakpoint-toggle"></div>
                                <span>contract.usdtg:42</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Variables Tab -->
                    <div id="variables-tab" class="debug-tab-content" style="display: none;">
                        <ul class="variables-list" id="variablesList">
                            <li class="variable-item">
                                <span class="variable-name">msg.sender</span>
                                <span class="variable-value">0xUSDTg...</span>
                            </li>
                            <li class="variable-item">
                                <span class="variable-name">value</span>
                                <span class="variable-value">1000000000000000000</span>
                            </li>
                            <li class="variable-item">
                                <span class="variable-name">to</span>
                                <span class="variable-value">0xUSDTg...</span>
                            </li>
                            <li class="variable-item">
                                <span class="variable-name">balances[msg.sender]</span>
                                <span class="variable-value">5000000000000000000</span>
                            </li>
                        </ul>
                    </div>
                    
                    <!-- Call Stack Tab -->
                    <div id="callstack-tab" class="debug-tab-content" style="display: none;">
                        <ul class="call-stack" id="callStack">
                            <li class="stack-frame active">
                                <div class="stack-function">transfer</div>
                                <div class="stack-location">contract.usdtg:25</div>
                            </li>
                            <li class="stack-frame">
                                <div class="stack-function">executeTransaction</div>
                                <div class="stack-location">contract.usdtg:15</div>
                            </li>
                            <li class="stack-frame">
                                <div class="stack-function">main</div>
                                <div class="stack-location">deploy.js:8</div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="debug-controls">
                    <button class="debug-button" onclick="stepOver()">Step Over</button>
                    <button class="debug-button" onclick="stepInto()">Step Into</button>
                    <button class="debug-button" onclick="stepOut()">Step Out</button>
                    <button class="debug-button secondary" onclick="continueExecution()">Continue</button>
                    <button class="debug-button danger" onclick="stopDebugging()">Stop</button>
                </div>
            </div>

            <!-- Git Panel -->
            <div class="git-panel" id="gitPanel" style="display: none;">
                <div class="git-header">
                    <span>📋</span>
                    <span>Git Integration</span>
                </div>
                <div class="git-tabs">
                    <div class="git-tab active" onclick="switchGitTab('status')">Status</div>
                    <div class="git-tab" onclick="switchGitTab('commit')">Commit</div>
                    <div class="git-tab" onclick="switchGitTab('history')">History</div>
                </div>
                <div class="git-content">
                    <!-- Status Tab -->
                    <div id="status-tab" class="git-tab-content">
                        <div class="git-status">
                            <div class="git-status-item modified">
                                <span>M</span>
                                <span>contract.usdtg</span>
                            </div>
                            <div class="git-status-item added">
                                <span>A</span>
                                <span>token.usdtg</span>
                            </div>
                            <div class="git-status-item untracked">
                                <span>?</span>
                                <span>deploy.js</span>
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            <button class="git-commit-button" onclick="gitAddAll()">Add All</button>
                            <button class="git-commit-button" onclick="gitReset()" style="background: #dc3545; margin-left: 8px;">Reset</button>
                        </div>
                    </div>
                    
                    <!-- Commit Tab -->
                    <div id="commit-tab" class="git-tab-content" style="display: none;">
                        <div class="git-commit-area">
                            <select class="git-branch-selector" id="gitBranch">
                                <option value="main">main</option>
                                <option value="develop">develop</option>
                                <option value="feature/new-token">feature/new-token</option>
                            </select>
                            <textarea class="git-commit-input" id="gitCommitMessage" placeholder="Enter commit message...">Add quantum-safe token contract</textarea>
                            <button class="git-commit-button" onclick="gitCommit()">Commit</button>
                            <button class="git-commit-button" onclick="gitPush()" style="background: #007acc; margin-left: 8px;">Push</button>
                        </div>
                    </div>
                    
                    <!-- History Tab -->
                    <div id="history-tab" class="git-tab-content" style="display: none;">
                        <ul class="git-history">
                            <li class="git-commit">
                                <div class="git-commit-hash">a1b2c3d</div>
                                <div class="git-commit-message">Add quantum-safe security features</div>
                                <div class="git-commit-author">Developer</div>
                                <div class="git-commit-date">2 hours ago</div>
                            </li>
                            <li class="git-commit">
                                <div class="git-commit-hash">e4f5g6h</div>
                                <div class="git-commit-message">Initial project setup</div>
                                <div class="git-commit-author">Developer</div>
                                <div class="git-commit-date">1 day ago</div>
                            </li>
                            <li class="git-commit">
                                <div class="git-commit-hash">i7j8k9l</div>
                                <div class="git-commit-message">Add USDTgScript compiler</div>
                                <div class="git-commit-author">Developer</div>
                                <div class="git-commit-date">3 days ago</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- File Manager Panel -->
            <div class="git-panel" id="fileManagerPanel" style="display: none;">
                <div class="git-header">
                    <span>📁</span>
                    <span>File Manager</span>
                </div>
                <div class="git-tabs">
                    <div class="git-tab active" onclick="switchFileTab('upload')">Upload</div>
                    <div class="git-tab" onclick="switchFileTab('download')">Download</div>
                    <div class="git-tab" onclick="switchFileTab('browser')">Browser</div>
                </div>
                <div class="git-content">
                    <!-- Upload Tab -->
                    <div id="upload-tab" class="git-tab-content">
                        <div class="file-upload-area" onclick="document.getElementById('fileInput').click()" ondrop="handleFileDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                            <div>📁 Drop files here or click to browse</div>
                            <div style="font-size: 11px; color: #999; margin-top: 8px;">Supports: .usdtg, .js, .md, .json</div>
                        </div>
                        <input type="file" id="fileInput" class="file-upload-input" multiple accept=".usdtg,.js,.md,.json,.txt" onchange="handleFileSelect(event)">
                        <div style="margin-top: 15px;">
                            <button class="file-upload-button" onclick="uploadSelectedFiles()">Upload Files</button>
                            <button class="file-upload-button" onclick="clearUploadList()" style="background: #6c757d;">Clear</button>
                        </div>
                        <div id="uploadList" style="margin-top: 15px;"></div>
                    </div>
                    
                    <!-- Download Tab -->
                    <div id="download-tab" class="git-tab-content" style="display: none;">
                        <div style="margin-bottom: 15px;">
                            <button class="file-download-button" onclick="downloadAllFiles()">Download All</button>
                            <button class="file-download-button" onclick="downloadProject()" style="background: #007acc;">Download Project</button>
                        </div>
                        <div id="downloadList">
                            <div class="file-list-item">
                                <span class="file-name">contract.usdtg</span>
                                <span class="file-size">2.1 KB</span>
                                <div class="file-actions">
                                    <button class="file-download-button" onclick="downloadFile('contract.usdtg')">Download</button>
                                </div>
                            </div>
                            <div class="file-list-item">
                                <span class="file-name">token.usdtg</span>
                                <span class="file-size">1.8 KB</span>
                                <div class="file-actions">
                                    <button class="file-download-button" onclick="downloadFile('token.usdtg')">Download</button>
                                </div>
                            </div>
                            <div class="file-list-item">
                                <span class="file-name">deploy.js</span>
                                <span class="file-size">1.2 KB</span>
                                <div class="file-actions">
                                    <button class="file-download-button" onclick="downloadFile('deploy.js')">Download</button>
                                </div>
                            </div>
                            <div class="file-list-item">
                                <span class="file-name">README.md</span>
                                <span class="file-size">0.8 KB</span>
                                <div class="file-actions">
                                    <button class="file-download-button" onclick="downloadFile('README.md')">Download</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Browser Tab -->
                    <div id="browser-tab" class="git-tab-content" style="display: none;">
                        <div style="margin-bottom: 15px;">
                            <button class="file-upload-button" onclick="createNewFile()">New File</button>
                            <button class="file-upload-button" onclick="createNewFolder()" style="background: #6c757d;">New Folder</button>
                        </div>
                        <div id="fileBrowser">
                            <div class="file-list-item" onclick="openFileInEditor('contract.usdtg')">
                                <span class="file-name">📄 contract.usdtg</span>
                                <span class="file-size">2.1 KB</span>
                                <div class="file-actions">
                                    <button class="file-download-button" onclick="downloadFile('contract.usdtg')">Download</button>
                                    <button class="file-upload-button" onclick="deleteFile('contract.usdtg')" style="background: #dc3545;">Delete</button>
                                </div>
                            </div>
                            <div class="file-list-item" onclick="openFileInEditor('token.usdtg')">
                                <span class="file-name">📄 token.usdtg</span>
                                <span class="file-size">1.8 KB</span>
                                <div class="file-actions">
                                    <button class="file-download-button" onclick="downloadFile('token.usdtg')">Download</button>
                                    <button class="file-upload-button" onclick="deleteFile('token.usdtg')" style="background: #dc3545;">Delete</button>
                                </div>
                            </div>
                            <div class="file-list-item" onclick="openFileInEditor('deploy.js')">
                                <span class="file-name">📄 deploy.js</span>
                                <span class="file-size">1.2 KB</span>
                                <div class="file-actions">
                                    <button class="file-download-button" onclick="downloadFile('deploy.js')">Download</button>
                                    <button class="file-upload-button" onclick="deleteFile('deploy.js')" style="background: #dc3545;">Delete</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Collaboration Panel -->
            <div class="collaboration-panel" id="collaborationPanel" style="display: none;">
                <div class="collaboration-header">
                    <span>👥</span>
                    <span>Real-time Collaboration</span>
                </div>
                <div class="collaboration-tabs">
                    <div class="collaboration-tab active" onclick="switchCollaborationTab('users')">Users</div>
                    <div class="collaboration-tab" onclick="switchCollaborationTab('chat')">Chat</div>
                    <div class="collaboration-tab" onclick="switchCollaborationTab('sharing')">Sharing</div>
                </div>
                <div class="collaboration-content">
                    <!-- Users Tab -->
                    <div id="users-tab" class="collaboration-tab-content">
                        <ul class="user-list">
                            <li class="user-item">
                                <div class="user-avatar">JD</div>
                                <span class="user-name">John Developer</span>
                                <div class="user-status"></div>
                            </li>
                            <li class="user-item">
                                <div class="user-avatar">AS</div>
                                <span class="user-name">Alice Smith</span>
                                <div class="user-status away"></div>
                            </li>
                            <li class="user-item">
                                <div class="user-avatar">BJ</div>
                                <span class="user-name">Bob Johnson</span>
                                <div class="user-status"></div>
                            </li>
                            <li class="user-item">
                                <div class="user-avatar">CW</div>
                                <span class="user-name">Carol Wilson</span>
                                <div class="user-status offline"></div>
                            </li>
                        </ul>
                        <div style="margin-top: 15px;">
                            <button class="collaboration-button" onclick="inviteUser()">Invite User</button>
                            <button class="collaboration-button secondary" onclick="shareProject()">Share Project</button>
                        </div>
                    </div>
                    
                    <!-- Chat Tab -->
                    <div id="chat-tab" class="collaboration-tab-content" style="display: none;">
                        <div class="chat-messages" id="chatMessages">
                            <div class="chat-message system">
                                <strong>System:</strong> Welcome to the collaboration chat!
                            </div>
                            <div class="chat-message user">
                                <strong>John:</strong> Hey team, working on the quantum-safe token contract
                            </div>
                            <div class="chat-message user">
                                <strong>Alice:</strong> Great! I'll review the security features
                            </div>
                            <div class="chat-message user">
                                <strong>Bob:</strong> I can help with the deployment script
                            </div>
                        </div>
                        <textarea class="chat-input" id="chatInput" placeholder="Type a message..." onkeypress="handleChatKeyPress(event)"></textarea>
                        <div style="margin-top: 8px;">
                            <button class="collaboration-button" onclick="sendChatMessage()">Send</button>
                        </div>
                    </div>
                    
                    <!-- Sharing Tab -->
                    <div id="sharing-tab" class="collaboration-tab-content" style="display: none;">
                        <div style="margin-bottom: 15px;">
                            <h4 style="color: #cccccc; font-size: 13px; margin-bottom: 8px;">Share Project</h4>
                            <input type="text" class="project-input" id="shareLink" value="https://ide.usdtgverse.com/project/abc123" readonly>
                            <button class="collaboration-button" onclick="copyShareLink()">Copy Link</button>
                        </div>
                        <div style="margin-bottom: 15px;">
                            <h4 style="color: #cccccc; font-size: 13px; margin-bottom: 8px;">Permissions</h4>
                            <label style="color: #cccccc; font-size: 11px; display: block; margin-bottom: 4px;">
                                <input type="checkbox" checked> View
                            </label>
                            <label style="color: #cccccc; font-size: 11px; display: block; margin-bottom: 4px;">
                                <input type="checkbox" checked> Edit
                            </label>
                            <label style="color: #cccccc; font-size: 11px; display: block; margin-bottom: 4px;">
                                <input type="checkbox"> Admin
                            </label>
                        </div>
                        <div>
                            <button class="collaboration-button" onclick="generateShareLink()">Generate New Link</button>
                            <button class="collaboration-button secondary" onclick="revokeAccess()">Revoke Access</button>
                        </div>
                    </div>
                </div>
                <div class="collaboration-controls">
                    <button class="collaboration-button" onclick="startScreenShare()">Share Screen</button>
                    <button class="collaboration-button secondary" onclick="toggleVoiceChat()">Voice Chat</button>
                </div>
            </div>

            <!-- Themes Panel -->
            <div class="themes-panel" id="themesPanel" style="display: none;">
                <div class="themes-header">
                    <span>🎨</span>
                    <span>Themes & Customization</span>
                </div>
                <div class="themes-content">
                    <div class="theme-section">
                        <h4>Editor Themes</h4>
                        <div class="theme-option active" onclick="changeTheme('vs-dark')">
                            <div class="theme-preview" style="background: linear-gradient(45deg, #1e1e1e 50%, #2d2d30 50%);"></div>
                            <span class="theme-name">Dark (Default)</span>
                        </div>
                        <div class="theme-option" onclick="changeTheme('vs-light')">
                            <div class="theme-preview" style="background: linear-gradient(45deg, #ffffff 50%, #f3f3f3 50%);"></div>
                            <span class="theme-name">Light</span>
                        </div>
                        <div class="theme-option" onclick="changeTheme('hc-black')">
                            <div class="theme-preview" style="background: linear-gradient(45deg, #000000 50%, #1a1a1a 50%);"></div>
                            <span class="theme-name">High Contrast</span>
                        </div>
                        <div class="theme-option" onclick="changeTheme('quantum-dark')">
                            <div class="theme-preview" style="background: linear-gradient(45deg, #0a0a0a 50%, #1a1a2e 50%);"></div>
                            <span class="theme-name">Quantum Dark</span>
                        </div>
                    </div>
                    
                    <div class="theme-section">
                        <h4>Font Settings</h4>
                        <div class="font-size-control">
                            <label>Font Size:</label>
                            <input type="number" id="fontSize" value="14" min="10" max="24" onchange="changeFontSize(this.value)">
                        </div>
                        <div class="font-size-control">
                            <label>Font Family:</label>
                            <select id="fontFamily" onchange="changeFontFamily(this.value)" style="background: #1e1e1e; border: 1px solid #3e3e42; color: #cccccc; padding: 4px 8px; border-radius: 3px;">
                                <option value="Monaco, Menlo, 'Ubuntu Mono', monospace">Monaco</option>
                                <option value="'Fira Code', 'Consolas', monospace">Fira Code</option>
                                <option value="'JetBrains Mono', monospace">JetBrains Mono</option>
                                <option value="'Source Code Pro', monospace">Source Code Pro</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="theme-section">
                        <h4>Editor Options</h4>
                        <div class="customization-option">
                            <span class="customization-label">Word Wrap</span>
                            <div class="customization-toggle active" onclick="toggleOption(this, 'wordWrap')"></div>
                        </div>
                        <div class="customization-option">
                            <span class="customization-label">Minimap</span>
                            <div class="customization-toggle active" onclick="toggleOption(this, 'minimap')"></div>
                        </div>
                        <div class="customization-option">
                            <span class="customization-label">Line Numbers</span>
                            <div class="customization-toggle active" onclick="toggleOption(this, 'lineNumbers')"></div>
                        </div>
                        <div class="customization-option">
                            <span class="customization-label">Folding</span>
                            <div class="customization-toggle active" onclick="toggleOption(this, 'folding')"></div>
                        </div>
                        <div class="customization-option">
                            <span class="customization-label">Render Whitespace</span>
                            <div class="customization-toggle" onclick="toggleOption(this, 'renderWhitespace')"></div>
                        </div>
                    </div>
                    
                    <div class="theme-section">
                        <h4>UI Customization</h4>
                        <div class="customization-option">
                            <span class="customization-label">Compact Mode</span>
                            <div class="customization-toggle" onclick="toggleOption(this, 'compactMode')"></div>
                        </div>
                        <div class="customization-option">
                            <span class="customization-label">Show Status Bar</span>
                            <div class="customization-toggle active" onclick="toggleOption(this, 'statusBar')"></div>
                        </div>
                        <div class="customization-option">
                            <span class="customization-label">Show Sidebar</span>
                            <div class="customization-toggle active" onclick="toggleOption(this, 'sidebar')"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Plugins Panel -->
            <div class="plugins-panel" id="pluginsPanel" style="display: none;">
                <div class="plugins-header">
                    <span>🔌</span>
                    <span>Plugin System</span>
                </div>
                <div class="plugins-content">
                    <div class="plugin-section">
                        <h4>Installed Plugins</h4>
                        <div class="plugin-item enabled">
                            <div class="plugin-icon">⚛️</div>
                            <div class="plugin-info">
                                <div class="plugin-name">Quantum Security</div>
                                <div class="plugin-description">Enhanced quantum-safe features</div>
                            </div>
                            <div class="plugin-toggle active" onclick="togglePlugin(this, 'quantum-security')"></div>
                        </div>
                        <div class="plugin-item enabled">
                            <div class="plugin-icon">🔍</div>
                            <div class="plugin-info">
                                <div class="plugin-name">Code Analyzer</div>
                                <div class="plugin-description">Advanced code analysis tools</div>
                            </div>
                            <div class="plugin-toggle active" onclick="togglePlugin(this, 'code-analyzer')"></div>
                        </div>
                        <div class="plugin-item">
                            <div class="plugin-icon">📊</div>
                            <div class="plugin-info">
                                <div class="plugin-name">Performance Monitor</div>
                                <div class="plugin-description">Real-time performance tracking</div>
                            </div>
                            <div class="plugin-toggle" onclick="togglePlugin(this, 'performance-monitor')"></div>
                        </div>
                        <div class="plugin-item">
                            <div class="plugin-icon">🧪</div>
                            <div class="plugin-info">
                                <div class="plugin-name">Test Runner</div>
                                <div class="plugin-description">Automated testing framework</div>
                            </div>
                            <div class="plugin-toggle" onclick="togglePlugin(this, 'test-runner')"></div>
                        </div>
                    </div>
                    
                    <div class="plugin-section">
                        <h4>Available Plugins</h4>
                        <div class="plugin-item">
                            <div class="plugin-icon">🌐</div>
                            <div class="plugin-info">
                                <div class="plugin-name">Web3 Integration</div>
                                <div class="plugin-description">Blockchain connectivity tools</div>
                            </div>
                            <div class="plugin-actions">
                                <button class="plugin-button" onclick="installPlugin('web3-integration')">Install</button>
                            </div>
                        </div>
                        <div class="plugin-item">
                            <div class="plugin-icon">📱</div>
                            <div class="plugin-info">
                                <div class="plugin-name">Mobile Preview</div>
                                <div class="plugin-description">Mobile device simulation</div>
                            </div>
                            <div class="plugin-actions">
                                <button class="plugin-button" onclick="installPlugin('mobile-preview')">Install</button>
                            </div>
                        </div>
                        <div class="plugin-item">
                            <div class="plugin-icon">🔐</div>
                            <div class="plugin-info">
                                <div class="plugin-name">Security Scanner</div>
                                <div class="plugin-description">Vulnerability detection</div>
                            </div>
                            <div class="plugin-actions">
                                <button class="plugin-button" onclick="installPlugin('security-scanner')">Install</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="plugin-section">
                        <h4>Plugin Management</h4>
                        <div class="plugin-actions">
                            <button class="plugin-button" onclick="refreshPlugins()">Refresh</button>
                            <button class="plugin-button secondary" onclick="openPluginStore()">Plugin Store</button>
                            <button class="plugin-button secondary" onclick="createCustomPlugin()">Create Plugin</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Performance Panel -->
            <div class="performance-panel" id="performancePanel" style="display: none;">
                <div class="performance-header">
                    <span>📊</span>
                    <span>Performance Profiler</span>
                </div>
                <div class="performance-content">
                    <div class="performance-section">
                        <h4>System Metrics</h4>
                        <div class="performance-metric">
                            <span class="metric-label">CPU Usage</span>
                            <span class="metric-value good" id="cpuUsage">15%</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Memory Usage</span>
                            <span class="metric-value good" id="memoryUsage">245 MB</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Disk I/O</span>
                            <span class="metric-value good" id="diskIO">12 MB/s</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Network I/O</span>
                            <span class="metric-value good" id="networkIO">8 KB/s</span>
                        </div>
                    </div>
                    
                    <div class="performance-section">
                        <h4>Editor Performance</h4>
                        <div class="performance-metric">
                            <span class="metric-label">Rendering FPS</span>
                            <span class="metric-value good" id="renderingFPS">60 FPS</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Typing Latency</span>
                            <span class="metric-value good" id="typingLatency">2ms</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Syntax Highlighting</span>
                            <span class="metric-value good" id="syntaxHighlighting">5ms</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Code Completion</span>
                            <span class="metric-value good" id="codeCompletion">12ms</span>
                        </div>
                    </div>
                    
                    <div class="performance-section">
                        <h4>Gas Optimization</h4>
                        <div class="performance-chart" id="gasChart">
                            <!-- Chart bars will be generated by JavaScript -->
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Estimated Gas</span>
                            <span class="metric-value warning" id="estimatedGas">45,000</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Gas Efficiency</span>
                            <span class="metric-value good" id="gasEfficiency">85%</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Optimization Score</span>
                            <span class="metric-value good" id="optimizationScore">92/100</span>
                        </div>
                    </div>
                    
                    <div class="performance-section">
                        <h4>Quantum Performance</h4>
                        <div class="performance-metric">
                            <span class="metric-label">Quantum Operations</span>
                            <span class="metric-value good" id="quantumOps">156 ops/s</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Encryption Speed</span>
                            <span class="metric-value good" id="encryptionSpeed">2.3 MB/s</span>
                        </div>
                        <div class="performance-metric">
                            <span class="metric-label">Hash Rate</span>
                            <span class="metric-value good" id="hashRate">1.2 MH/s</span>
                        </div>
                    </div>
                    
                    <div class="performance-controls">
                        <button class="performance-button" onclick="startProfiling()">Start Profiling</button>
                        <button class="performance-button secondary" onclick="stopProfiling()">Stop</button>
                        <button class="performance-button secondary" onclick="exportReport()">Export Report</button>
                        <button class="performance-button danger" onclick="clearMetrics()">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Tests Panel -->
            <div class="tests-panel" id="testsPanel" style="display: none;">
                <div class="tests-header">
                    <span>🧪</span>
                    <span>Test Framework</span>
                </div>
                <div class="tests-content">
                    <div class="test-section">
                        <h4>Unit Tests</h4>
                        <div class="test-item passed">
                            <div class="test-icon passed">✓</div>
                            <div class="test-info">
                                <div class="test-name">testTokenTransfer</div>
                                <div class="test-description">Tests token transfer functionality</div>
                            </div>
                            <div class="test-status passed">PASSED</div>
                        </div>
                        <div class="test-item passed">
                            <div class="test-icon passed">✓</div>
                            <div class="test-info">
                                <div class="test-name">testQuantumSecurity</div>
                                <div class="test-description">Tests quantum-safe encryption</div>
                            </div>
                            <div class="test-status passed">PASSED</div>
                        </div>
                        <div class="test-item failed">
                            <div class="test-icon failed">✗</div>
                            <div class="test-info">
                                <div class="test-name">testGasOptimization</div>
                                <div class="test-description">Tests gas usage optimization</div>
                            </div>
                            <div class="test-status failed">FAILED</div>
                        </div>
                        <div class="test-item pending">
                            <div class="test-icon pending">⏳</div>
                            <div class="test-info">
                                <div class="test-name">testMultiSig</div>
                                <div class="test-description">Tests multi-signature functionality</div>
                            </div>
                            <div class="test-status pending">PENDING</div>
                        </div>
                    </div>
                    
                    <div class="test-section">
                        <h4>Integration Tests</h4>
                        <div class="test-item passed">
                            <div class="test-icon passed">✓</div>
                            <div class="test-info">
                                <div class="test-name">testContractDeployment</div>
                                <div class="test-description">Tests contract deployment process</div>
                            </div>
                            <div class="test-status passed">PASSED</div>
                        </div>
                        <div class="test-item running">
                            <div class="test-icon running">⟳</div>
                            <div class="test-info">
                                <div class="test-name">testNetworkConnection</div>
                                <div class="test-description">Tests network connectivity</div>
                            </div>
                            <div class="test-status running">RUNNING</div>
                        </div>
                        <div class="test-item pending">
                            <div class="test-icon pending">⏳</div>
                            <div class="test-info">
                                <div class="test-name">testCrossChain</div>
                                <div class="test-description">Tests cross-chain functionality</div>
                            </div>
                            <div class="test-status pending">PENDING</div>
                        </div>
                    </div>
                    
                    <div class="test-section">
                        <h4>Performance Tests</h4>
                        <div class="test-item passed">
                            <div class="test-icon passed">✓</div>
                            <div class="test-info">
                                <div class="test-name">testTransactionSpeed</div>
                                <div class="test-description">Tests transaction processing speed</div>
                            </div>
                            <div class="test-status passed">PASSED</div>
                        </div>
                        <div class="test-item pending">
                            <div class="test-icon pending">⏳</div>
                            <div class="test-info">
                                <div class="test-name">testScalability</div>
                                <div class="test-description">Tests system scalability</div>
                            </div>
                            <div class="test-status pending">PENDING</div>
                        </div>
                    </div>
                    
                    <div class="test-controls">
                        <button class="test-button success" onclick="runAllTests()">Run All Tests</button>
                        <button class="test-button" onclick="runSelectedTests()">Run Selected</button>
                        <button class="test-button secondary" onclick="stopTests()">Stop Tests</button>
                        <button class="test-button secondary" onclick="generateTestReport()">Generate Report</button>
                        <button class="test-button danger" onclick="clearTestResults()">Clear Results</button>
                    </div>
                </div>
            </div>

            <!-- Documentation Panel -->
            <div class="documentation-panel" id="documentationPanel" style="display: none;">
                <div class="documentation-header">
                    <span>📚</span>
                    <span>Documentation</span>
                </div>
                <div class="documentation-content">
                    <div class="documentation-search">
                        <input type="text" placeholder="Search documentation..." onkeyup="searchDocumentation(this.value)">
                    </div>
                    
                    <div class="documentation-tabs">
                        <button class="documentation-tab active" onclick="switchDocTab('api')">API Reference</button>
                        <button class="documentation-tab" onclick="switchDocTab('tutorials')">Tutorials</button>
                        <button class="documentation-tab" onclick="switchDocTab('examples')">Examples</button>
                    </div>
                    
                    <div id="apiDoc" class="documentation-section">
                        <h4>USDTgScript API Reference</h4>
                        
                        <div class="documentation-item">
                            <h5>Contract Declaration</h5>
                            <p>Define a smart contract with quantum-safe features.</p>
                            <div class="example">contract MyContract {
    // Contract body
}</div>
                        </div>
                        
                        <div class="documentation-item">
                            <h5>Function Declaration</h5>
                            <p>Define functions with quantum-safe decorators.</p>
                            <div class="example">@quantum_safe
function transfer(address to, uint256 amount) public {
    // Function body
}</div>
                        </div>
                        
                        <div class="documentation-item">
                            <h5>Quantum Decorators</h5>
                            <p>Security decorators for quantum-resistant operations.</p>
                            <div class="example">@quantum_safe
@quantum_resistant
function secureFunction() public {
    // Quantum-safe function
}</div>
                        </div>
                        
                        <div class="documentation-item">
                            <h5>Built-in Variables</h5>
                            <p>Global variables available in USDTgScript.</p>
                            <div class="example">msg.sender    // Caller address
msg.value     // Sent value
block.number  // Current block
block.timestamp // Block time</div>
                        </div>
                        
                        <div class="documentation-item">
                            <h5>USDTgVerse Classes</h5>
                            <p>Native classes for USDTgVerse ecosystem.</p>
                            <div class="example">USDTgToken     // Native token
QuantumSafe    // Security library
USDTgSecurity  // Security utilities</div>
                        </div>
                    </div>
                    
                    <div id="tutorialsDoc" class="documentation-section" style="display: none;">
                        <h4>Getting Started Tutorials</h4>
                        
                        <div class="documentation-item">
                            <h5>1. Your First Contract</h5>
                            <p>Learn to create a basic USDTgScript contract.</p>
                            <div class="example">contract HelloWorld {
    string public message = "Hello, USDTgVerse!";
    
    function setMessage(string memory newMessage) public {
        message = newMessage;
    }
}</div>
                        </div>
                        
                        <div class="documentation-item">
                            <h5>2. Quantum-Safe Token</h5>
                            <p>Create a quantum-resistant token contract.</p>
                            <div class="example">@quantum_safe
contract QuantumToken {
    mapping(address => uint256) public balances;
    
    @quantum_resistant
    function transfer(address to, uint256 amount) public {
        require(balances[msg.sender] >= amount);
        balances[msg.sender] -= amount;
        balances[to] += amount;
    }
}</div>
                        </div>
                        
                        <div class="documentation-item">
                            <h5>3. Multi-Signature Wallet</h5>
                            <p>Implement a secure multi-sig wallet.</p>
                            <div class="example">contract MultiSigWallet {
    address[] public owners;
    uint256 public required;
    
    function executeTransaction(address to, uint256 value) public {
        // Multi-sig logic
    }
}</div>
                        </div>
                    </div>
                    
                    <div id="examplesDoc" class="documentation-section" style="display: none;">
                        <h4>Code Examples</h4>
                        
                        <div class="documentation-item">
                            <h5>ERC-20 Compatible Token</h5>
                            <p>Standard token implementation with quantum safety.</p>
                            <div class="example">@quantum_safe
contract USDTgToken {
    string public name = "USDTgVerse Token";
    string public symbol = "USDTg";
    uint8 public decimals = 18;
    uint256 public totalSupply;
    
    mapping(address => uint256) public balanceOf;
    mapping(address => mapping(address => uint256)) public allowance;
    
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
    
    @quantum_resistant
    function transfer(address to, uint256 value) public returns (bool) {
        require(balanceOf[msg.sender] >= value);
        balanceOf[msg.sender] -= value;
        balanceOf[to] += value;
        emit Transfer(msg.sender, to, value);
        return true;
    }
}</div>
                        </div>
                        
                        <div class="documentation-item">
                            <h5>Staking Contract</h5>
                            <p>Quantum-safe staking mechanism.</p>
                            <div class="example">@quantum_safe
contract StakingContract {
    mapping(address => uint256) public stakedAmount;
    mapping(address => uint256) public stakingTime;
    
    @quantum_resistant
    function stake(uint256 amount) public {
        require(amount > 0);
        stakedAmount[msg.sender] += amount;
        stakingTime[msg.sender] = block.timestamp;
    }
    
    function calculateRewards(address staker) public view returns (uint256) {
        uint256 staked = stakedAmount[staker];
        uint256 timeStaked = block.timestamp - stakingTime[staker];
        return staked * timeStaked / 365 days;
    }
}</div>
                        </div>
                        
                        <div class="documentation-item">
                            <h5>DAO Governance</h5>
                            <p>Decentralized governance implementation.</p>
                            <div class="example">@quantum_safe
contract DAOGovernance {
    struct Proposal {
        string description;
        uint256 votesFor;
        uint256 votesAgainst;
        bool executed;
    }
    
    mapping(uint256 => Proposal) public proposals;
    mapping(address => bool) public hasVoted;
    
    @quantum_resistant
    function vote(uint256 proposalId, bool support) public {
        require(!hasVoted[msg.sender]);
        hasVoted[msg.sender] = true;
        
        if (support) {
            proposals[proposalId].votesFor++;
        } else {
            proposals[proposalId].votesAgainst++;
        }
    }
}</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="settings-panel" id="settingsPanel" style="display: none;">
                <div class="settings-header">
                    <span>⚙️</span>
                    <span>Settings</span>
                </div>
                <div class="settings-content">
                    <div class="settings-section">
                        <h4>Editor Settings</h4>
                        
                        <div class="settings-item">
                            <h5>Font & Display</h5>
                            <p>Configure editor appearance and typography.</p>
                            <div class="settings-control">
                                <label>Font Family:</label>
                                <select id="fontFamily" onchange="updateFontFamily(this.value)">
                                    <option value="'Courier New', monospace">Courier New</option>
                                    <option value="'Fira Code', monospace">Fira Code</option>
                                    <option value="'JetBrains Mono', monospace">JetBrains Mono</option>
                                    <option value="'Source Code Pro', monospace">Source Code Pro</option>
                                </select>
                            </div>
                            <div class="settings-control">
                                <label>Font Size:</label>
                                <input type="range" id="fontSize" min="10" max="24" value="14" oninput="updateFontSize(this.value)">
                                <span class="settings-value" id="fontSizeValue">14px</span>
                            </div>
                            <div class="settings-control">
                                <label>Line Height:</label>
                                <input type="range" id="lineHeight" min="1" max="3" step="0.1" value="1.5" oninput="updateLineHeight(this.value)">
                                <span class="settings-value" id="lineHeightValue">1.5</span>
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <h5>Editor Behavior</h5>
                            <p>Configure editor functionality and behavior.</p>
                            <div class="settings-control">
                                <label>Word Wrap:</label>
                                <input type="checkbox" id="wordWrap" checked onchange="updateWordWrap(this.checked)">
                            </div>
                            <div class="settings-control">
                                <label>Show Line Numbers:</label>
                                <input type="checkbox" id="lineNumbers" checked onchange="updateLineNumbers(this.checked)">
                            </div>
                            <div class="settings-control">
                                <label>Show Minimap:</label>
                                <input type="checkbox" id="minimap" checked onchange="updateMinimap(this.checked)">
                            </div>
                            <div class="settings-control">
                                <label>Auto Save:</label>
                                <input type="checkbox" id="autoSave" onchange="updateAutoSave(this.checked)">
                            </div>
                            <div class="settings-control">
                                <label>Auto Complete:</label>
                                <input type="checkbox" id="autoComplete" checked onchange="updateAutoComplete(this.checked)">
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>USDTgScript Settings</h4>
                        
                        <div class="settings-item">
                            <h5>Compiler Options</h5>
                            <p>Configure USDTgScript compiler behavior.</p>
                            <div class="settings-control">
                                <label>Optimization Level:</label>
                                <select id="optimizationLevel" onchange="updateOptimizationLevel(this.value)">
                                    <option value="0">None</option>
                                    <option value="1">Low</option>
                                    <option value="2" selected>Medium</option>
                                    <option value="3">High</option>
                                </select>
                            </div>
                            <div class="settings-control">
                                <label>Gas Limit:</label>
                                <input type="text" id="gasLimit" value="3000000" onchange="updateGasLimit(this.value)">
                            </div>
                            <div class="settings-control">
                                <label>Enable Quantum Safety:</label>
                                <input type="checkbox" id="quantumSafety" checked onchange="updateQuantumSafety(this.checked)">
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <h5>Network Configuration</h5>
                            <p>Configure blockchain network settings.</p>
                            <div class="settings-control">
                                <label>Network:</label>
                                <select id="network" onchange="updateNetwork(this.value)">
                                    <option value="mainnet">Mainnet</option>
                                    <option value="testnet">Testnet</option>
                                    <option value="local">Local</option>
                                </select>
                            </div>
                            <div class="settings-control">
                                <label>RPC URL:</label>
                                <input type="text" id="rpcUrl" value="https://rpc.usdtgverse.com" onchange="updateRpcUrl(this.value)">
                            </div>
                            <div class="settings-control">
                                <label>Chain ID:</label>
                                <input type="text" id="chainId" value="1" onchange="updateChainId(this.value)">
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4>Advanced Settings</h4>
                        
                        <div class="settings-item">
                            <h5>Performance</h5>
                            <p>Configure IDE performance and resource usage.</p>
                            <div class="settings-control">
                                <label>Max Memory Usage:</label>
                                <input type="range" id="maxMemory" min="512" max="4096" step="256" value="2048" oninput="updateMaxMemory(this.value)">
                                <span class="settings-value" id="maxMemoryValue">2048MB</span>
                            </div>
                            <div class="settings-control">
                                <label>Enable Hardware Acceleration:</label>
                                <input type="checkbox" id="hardwareAcceleration" checked onchange="updateHardwareAcceleration(this.checked)">
                            </div>
                            <div class="settings-control">
                                <label>Background Compilation:</label>
                                <input type="checkbox" id="backgroundCompilation" checked onchange="updateBackgroundCompilation(this.checked)">
                            </div>
                        </div>
                        
                        <div class="settings-item">
                            <h5>Security</h5>
                            <p>Configure security and privacy settings.</p>
                            <div class="settings-control">
                                <label>Enable Quantum Encryption:</label>
                                <input type="checkbox" id="quantumEncryption" checked onchange="updateQuantumEncryption(this.checked)">
                            </div>
                            <div class="settings-control">
                                <label>Auto-lock after inactivity:</label>
                                <input type="range" id="autoLock" min="5" max="60" step="5" value="15" oninput="updateAutoLock(this.value)">
                                <span class="settings-value" id="autoLockValue">15min</span>
                            </div>
                            <div class="settings-control">
                                <label>Enable Audit Logging:</label>
                                <input type="checkbox" id="auditLogging" onchange="updateAuditLogging(this.checked)">
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-buttons">
                        <button class="settings-button" onclick="saveSettings()">💾 Save Settings</button>
                        <button class="settings-button secondary" onclick="resetSettings()">🔄 Reset</button>
                        <button class="settings-button secondary" onclick="exportSettings()">📤 Export</button>
                        <button class="settings-button secondary" onclick="importSettings()">📥 Import</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Panel -->
        <div class="bottom-panel">
            <div class="panel-tabs">
                <div class="panel-tab active" onclick="switchPanelTab(this, 'terminal')">🖥️ Terminal</div>
                <div class="panel-tab" onclick="switchPanelTab(this, 'problems')">🔍 Problems</div>
                <div class="panel-tab" onclick="switchPanelTab(this, 'output')">📊 Output</div>
                <div class="panel-tab" onclick="switchPanelTab(this, 'debug')">🐛 Debug Console</div>
            </div>
            <div class="panel-content">
                <div class="terminal active" id="terminal">
                    <div class="terminal-line">
                        <span class="terminal-prompt">usdtg@quantum:~/project$</span> 
                        <span>Welcome to USDTgScript IDE Pro!</span>
                    </div>
                    <div class="terminal-line">
                        <span class="terminal-prompt">usdtg@quantum:~/project$</span> 
                        <span>Quantum-safe development environment ready.</span>
                    </div>
                    <div class="terminal-line">
                        <span class="terminal-prompt">usdtg@quantum:~/project$</span> 
                        <span>Type 'help' for available commands.</span>
                    </div>
                    <div class="terminal-line">
                        <span class="terminal-prompt">usdtg@quantum:~/project$</span> 
                        <span style="animation: blink 1s infinite;">_</span>
                    </div>
                </div>
                <div class="problems" id="problems" style="display: none;">
                    <div class="problem-item error">
                        <span class="problem-icon">❌</span>
                        <span class="problem-message">No problems found</span>
                    </div>
                </div>
                <div class="output" id="output" style="display: none;">
                    <div class="output-line">USDTgScript IDE Pro v1.0.0</div>
                    <div class="output-line">Monaco Editor loaded successfully</div>
                    <div class="output-line">All systems ready</div>
                </div>
                <div class="debug-console" id="debug" style="display: none;">
                    <div class="debug-line">Debug console ready</div>
                    <div class="debug-line">Breakpoints: 0</div>
                    <div class="debug-line">Variables: 0</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Project Menu -->
    <div class="project-menu" id="projectMenu">
        <div class="project-menu-item" onclick="createNewProject()">📁 New Project</div>
        <div class="project-menu-item" onclick="openProject()">📂 Open Project</div>
        <div class="project-menu-item" onclick="saveProject()">💾 Save Project</div>
        <div class="project-menu-item" onclick="saveProjectAs()">💾 Save Project As...</div>
        <div class="project-menu-item" style="border-top: 1px solid #3e3e42; margin-top: 8px;"></div>
        <div class="project-menu-item" onclick="importProject()">📥 Import Project</div>
        <div class="project-menu-item" onclick="exportProject()">📤 Export Project</div>
        <div class="project-menu-item" style="border-top: 1px solid #3e3e42; margin-top: 8px;"></div>
        <div class="project-menu-item" onclick="projectSettings()">⚙️ Project Settings</div>
        <div class="project-menu-item" onclick="closeProject()">❌ Close Project</div>
    </div>

    <!-- Project Dialogs -->
    <div class="project-dialog" id="newProjectDialog">
        <h3>Create New Project</h3>
        <input type="text" class="project-input" id="newProjectName" placeholder="Project Name" value="MyUSDTgProject">
        <input type="text" class="project-input" id="newProjectPath" placeholder="Project Path" value="./projects/">
        <div class="project-buttons">
            <button class="project-button secondary" onclick="closeProjectDialog('newProjectDialog')">Cancel</button>
            <button class="project-button" onclick="confirmNewProject()">Create</button>
        </div>
    </div>

    <div class="project-dialog" id="openProjectDialog">
        <h3>Open Project</h3>
        <input type="text" class="project-input" id="openProjectPath" placeholder="Project Path" value="./projects/">
        <div class="project-buttons">
            <button class="project-button secondary" onclick="closeProjectDialog('openProjectDialog')">Cancel</button>
            <button class="project-button" onclick="confirmOpenProject()">Open</button>
        </div>
    </div>

    <div class="project-dialog" id="saveProjectDialog">
        <h3>Save Project As</h3>
        <input type="text" class="project-input" id="saveProjectName" placeholder="Project Name" value="MyUSDTgProject">
        <input type="text" class="project-input" id="saveProjectPath" placeholder="Project Path" value="./projects/">
        <div class="project-buttons">
            <button class="project-button secondary" onclick="closeProjectDialog('saveProjectDialog')">Cancel</button>
            <button class="project-button" onclick="confirmSaveProject()">Save</button>
        </div>
    </div>

    <!-- Monaco Editor CDN -->
    <script src="https://unpkg.com/monaco-editor@0.44.0/min/vs/loader.js"></script>
    
    <script>
        // Loading simulation
        let progress = 0;
        const loadingInterval = setInterval(() => {
            progress += Math.random() * 15;
            if (progress >= 100) {
                progress = 100;
                clearInterval(loadingInterval);
                setTimeout(initializeIDE, 500);
            }
            document.getElementById('loadingProgress').style.width = progress + '%';
        }, 200);

        function initializeIDE() {
            document.getElementById('loadingScreen').style.display = 'none';
            document.getElementById('ideContainer').style.display = 'flex';
            
            // Initialize Monaco Editor
            require.config({ paths: { vs: 'https://unpkg.com/monaco-editor@0.44.0/min/vs' } });
            require(['vs/editor/editor.main'], function () {
                // Define USDTgScript language
                monaco.languages.register({ id: 'usdtgscript' });
                
                // Define syntax highlighting
                monaco.languages.setMonarchTokensProvider('usdtgscript', {
                    tokenizer: {
                        root: [
                            [/\b(contract|function|public|private|quantum|safe|uint256|address|string|bool|mapping)\b/, 'keyword'],
                            [/\b(import|from|using|library|interface|event|modifier)\b/, 'keyword'],
                            [/\b(if|else|for|while|do|break|continue|return|try|catch)\b/, 'keyword'],
                            [/\b(true|false|null|undefined)\b/, 'keyword'],
                            [/\b\d+\b/, 'number'],
                            [/".*?"/, 'string'],
                            [/'.*?'/, 'string'],
                            [/\/\/.*/, 'comment'],
                            [/\/\*[\s\S]*?\*\//, 'comment'],
                            [/[{}()\[\]]/, 'delimiter'],
                            [/[<>]=?|[!=]=?|&&|\|\||[+\-*/%]/, 'operator']
                        ]
                    }
                });

                // Enhanced Code Completion
                monaco.languages.registerCompletionItemProvider('usdtgscript', {
                    provideCompletionItems: function(model, position) {
                        const suggestions = [
                            // USDTgScript Keywords
                            {
                                label: 'contract',
                                kind: monaco.languages.CompletionItemKind.Keyword,
                                insertText: 'contract ${1:ContractName} {\n\t${2}\n}',
                                insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,
                                documentation: 'Define a new contract'
                            },
                            {
                                label: 'function',
                                kind: monaco.languages.CompletionItemKind.Keyword,
                                insertText: 'function ${1:functionName}(${2}) ${3:public} returns (${4}) {\n\t${5}\n}',
                                insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,
                                documentation: 'Define a new function'
                            },
                            {
                                label: 'quantum_safe',
                                kind: monaco.languages.CompletionItemKind.Keyword,
                                insertText: '@quantum_safe',
                                documentation: 'Quantum-safe decorator for security'
                            },
                            {
                                label: 'quantum_resistant',
                                kind: monaco.languages.CompletionItemKind.Keyword,
                                insertText: '@quantum_resistant',
                                documentation: 'Quantum-resistant decorator'
                            },
                            // USDTgVerse Specific
                            {
                                label: 'USDTgToken',
                                kind: monaco.languages.CompletionItemKind.Class,
                                insertText: 'USDTgToken',
                                documentation: 'USDTgVerse native token contract'
                            },
                            {
                                label: 'QuantumSafe',
                                kind: monaco.languages.CompletionItemKind.Class,
                                insertText: 'QuantumSafe',
                                documentation: 'Quantum-safe security library'
                            },
                            {
                                label: 'USDTgSecurity',
                                kind: monaco.languages.CompletionItemKind.Class,
                                insertText: 'USDTgSecurity',
                                documentation: 'USDTgVerse security utilities'
                            },
                            // Common Functions
                            {
                                label: 'require',
                                kind: monaco.languages.CompletionItemKind.Function,
                                insertText: 'require(${1:condition}, "${2:error message}");',
                                insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,
                                documentation: 'Require condition to be true'
                            },
                            {
                                label: 'emit',
                                kind: monaco.languages.CompletionItemKind.Function,
                                insertText: 'emit ${1:EventName}(${2});',
                                insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,
                                documentation: 'Emit an event'
                            },
                            {
                                label: 'msg.sender',
                                kind: monaco.languages.CompletionItemKind.Variable,
                                insertText: 'msg.sender',
                                documentation: 'Address of the message sender'
                            },
                            {
                                label: 'msg.value',
                                kind: monaco.languages.CompletionItemKind.Variable,
                                insertText: 'msg.value',
                                documentation: 'Value sent with the message'
                            },
                            {
                                label: 'block.timestamp',
                                kind: monaco.languages.CompletionItemKind.Variable,
                                insertText: 'block.timestamp',
                                documentation: 'Current block timestamp'
                            },
                            {
                                label: 'block.number',
                                kind: monaco.languages.CompletionItemKind.Variable,
                                insertText: 'block.number',
                                documentation: 'Current block number'
                            }
                        ];

                        return { suggestions: suggestions };
                    }
                });

                // Enhanced Hover Provider
                monaco.languages.registerHoverProvider('usdtgscript', {
                    provideHover: function(model, position) {
                        const word = model.getWordAtPosition(position);
                        if (word) {
                            const hoverInfo = {
                                'contract': '**Contract**: Defines a smart contract with state variables and functions.',
                                'function': '**Function**: Defines a callable function within a contract.',
                                'quantum_safe': '**@quantum_safe**: Decorator that ensures quantum-resistant security.',
                                'quantum_resistant': '**@quantum_resistant**: Decorator for quantum-resistant operations.',
                                'require': '**require()**: Validates conditions and reverts if false.',
                                'emit': '**emit**: Emits an event for external listeners.',
                                'msg.sender': '**msg.sender**: Address of the account that called the function.',
                                'msg.value': '**msg.value**: Amount of USDTg sent with the function call.',
                                'block.timestamp': '**block.timestamp**: Current block timestamp in seconds.',
                                'block.number': '**block.number**: Current block number.'
                            };

                            const info = hoverInfo[word.word];
                            if (info) {
                                return {
                                    range: new monaco.Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn),
                                    contents: [{ value: info }]
                                };
                            }
                        }
                        return null;
                    }
                });

                // Error Highlighting and Diagnostics
                monaco.languages.registerDocumentFormattingEditProvider('usdtgscript', {
                    provideDocumentFormattingEdits: function(model, options) {
                        // Basic formatting for USDTgScript
                        const text = model.getValue();
                        const lines = text.split('\n');
                        const formattedLines = [];
                        
                        for (let i = 0; i < lines.length; i++) {
                            let line = lines[i];
                            // Basic indentation
                            if (line.includes('{')) {
                                formattedLines.push(line);
                            } else if (line.includes('}')) {
                                formattedLines.push(line);
                            } else {
                                formattedLines.push(line);
                            }
                        }
                        
                        return [{
                            range: model.getFullModelRange(),
                            text: formattedLines.join('\n')
                        }];
                    }
                });

                // Error Diagnostics
                function validateUSDTgScript(code) {
                    const errors = [];
                    const lines = code.split('\n');
                    
                    for (let i = 0; i < lines.length; i++) {
                        const line = lines[i];
                        const lineNumber = i + 1;
                        
                        // Check for common errors
                        if (line.includes('function') && !line.includes('{') && !line.includes(';')) {
                            errors.push({
                                startLineNumber: lineNumber,
                                startColumn: 1,
                                endLineNumber: lineNumber,
                                endColumn: line.length + 1,
                                message: 'Function declaration missing opening brace or semicolon',
                                severity: monaco.MarkerSeverity.Error
                            });
                        }
                        
                        if (line.includes('require') && !line.includes('(')) {
                            errors.push({
                                startLineNumber: lineNumber,
                                startColumn: 1,
                                endLineNumber: lineNumber,
                                endColumn: line.length + 1,
                                message: 'require() function missing parentheses',
                                severity: monaco.MarkerSeverity.Error
                            });
                        }
                        
                        if (line.includes('@quantum_safe') && !line.includes('function')) {
                            errors.push({
                                startLineNumber: lineNumber,
                                startColumn: 1,
                                endLineNumber: lineNumber,
                                endColumn: line.length + 1,
                                message: '@quantum_safe decorator should be used with functions',
                                severity: monaco.MarkerSeverity.Warning
                            });
                        }
                        
                        if (line.includes('uint256') && line.includes('=') && !line.includes(';')) {
                            errors.push({
                                startLineNumber: lineNumber,
                                startColumn: 1,
                                endLineNumber: lineNumber,
                                endColumn: line.length + 1,
                                message: 'Variable declaration missing semicolon',
                                severity: monaco.MarkerSeverity.Error
                            });
                        }
                    }
                    
                    return errors;
                }

                // Sample USDTgScript code
                const sampleCode = `// USDTgScript - Quantum-Safe Smart Contract
import { QuantumSafe, USDTgSecurity } from "usdtgverse/security";
import { UST1Token } from "usdtgverse/standards";

@quantum_safe
@security_level(256)
contract MyQuantumToken extends UST1Token {
    using USDTgSecurity for uint256;
    using QuantumSafe for address;
    
    string public name = "My Quantum Token";
    string public symbol = "MQT";
    uint8 public decimals = 18;
    uint256 public totalSupply = 1000000 * 10**18;
    
    mapping(address => uint256) private balances;
    mapping(address => mapping(address => uint256)) private allowed;
    
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
    
    constructor() {
        balances[msg.sender] = totalSupply;
        emit Transfer(address(0), msg.sender, totalSupply);
    }
    
    @quantum_resistant
    function transfer(address to, uint256 value) public returns (bool) {
        require(to != address(0), "Invalid address");
        require(balances[msg.sender] >= value, "Insufficient balance");
        
        balances[msg.sender] = balances[msg.sender].safeSub(value);
        balances[to] = balances[to].safeAdd(value);
        
        emit Transfer(msg.sender, to, value);
        return true;
    }
    
    @view
    function balanceOf(address owner) public returns (uint256) {
        return balances[owner];
    }
    
    @quantum_resistant
    function approve(address spender, uint256 value) public returns (bool) {
        allowed[msg.sender][spender] = value;
        emit Approval(msg.sender, spender, value);
        return true;
    }
    
    function allowance(address owner, address spender) public view returns (uint256) {
        return allowed[owner][spender];
    }
}`;

                // Create editor
                window.editor = monaco.editor.create(document.getElementById('monaco-editor'), {
                    value: sampleCode,
                    language: 'usdtgscript',
                    theme: 'vs-dark',
                    fontSize: 14,
                    minimap: { enabled: true },
                    scrollBeyondLastLine: false,
                    automaticLayout: true,
                    wordWrap: 'on',
                    lineNumbers: 'on',
                    folding: true,
                    renderWhitespace: 'selection'
                });

                // Add error validation on content change
                window.editor.onDidChangeModelContent(function() {
                    const code = window.editor.getValue();
                    const errors = validateUSDTgScript(code);
                    monaco.editor.setModelMarkers(window.editor.getModel(), 'usdtgscript', errors);
                });

                // Initial validation
                const initialErrors = validateUSDTgScript(sampleCode);
                monaco.editor.setModelMarkers(window.editor.getModel(), 'usdtgscript', initialErrors);

                // Add keyboard shortcuts
                window.editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyS, saveFile);
                window.editor.addCommand(monaco.KeyCode.F5, runCode);
                window.editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.F5, debugCode);
                window.editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyCode.KeyF, function() {
                    window.editor.getAction('actions.find').run();
                });
                window.editor.addCommand(monaco.KeyMod.CtrlCmd | monaco.KeyMod.Shift | monaco.KeyCode.KeyF, function() {
                    window.editor.getAction('editor.action.startFindReplaceAction').run();
                });
            });
        }

        // IDE Functions
        function openFile(filename) {
            // Remove active class from all files
            document.querySelectorAll('.file-item').forEach(item => item.classList.remove('active'));
            
            // Add active class to clicked file
            event.target.closest('.file-item').classList.add('active');
            
            // Load file content (simulated)
            console.log('Opening file:', filename);
            
            // Add tab if not exists
            const tabs = document.querySelector('.tabs');
            if (!document.querySelector(`[data-file="${filename}"]`)) {
                const tab = document.createElement('div');
                tab.className = 'tab';
                tab.setAttribute('data-file', filename);
                tab.innerHTML = `<span>📄</span><span>${filename}</span><span class="tab-close" onclick="closeTab('${filename}')">×</span>`;
                tabs.appendChild(tab);
                
                // Load file content based on filename
                loadFileContent(filename);
            }
        }

        function loadFileContent(filename) {
            const fileContents = {
                'contract.usdtg': `// USDTgScript - Quantum-Safe Smart Contract
import { QuantumSafe, USDTgSecurity } from "usdtgverse/security";
import { UST1Token } from "usdtgverse/standards";

@quantum_safe
@security_level(256)
contract MyQuantumToken extends UST1Token {
    using USDTgSecurity for uint256;
    using QuantumSafe for address;
    
    string public name = "My Quantum Token";
    string public symbol = "MQT";
    uint8 public decimals = 18;
    uint256 public totalSupply = 1000000 * 10**18;
    
    mapping(address => uint256) private balances;
    mapping(address => mapping(address => uint256)) private allowed;
    
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
    
    constructor() {
        balances[msg.sender] = totalSupply;
        emit Transfer(address(0), msg.sender, totalSupply);
    }
    
    @quantum_resistant
    function transfer(address to, uint256 value) public returns (bool) {
        require(to != address(0), "Invalid address");
        require(balances[msg.sender] >= value, "Insufficient balance");
        
        balances[msg.sender] = balances[msg.sender].safeSub(value);
        balances[to] = balances[to].safeAdd(value);
        
        emit Transfer(msg.sender, to, value);
        return true;
    }
    
    @view
    function balanceOf(address owner) public returns (uint256) {
        return balances[owner];
    }
    
    @quantum_resistant
    function approve(address spender, uint256 value) public returns (bool) {
        allowed[msg.sender][spender] = value;
        emit Approval(msg.sender, spender, value);
        return true;
    }
    
    function allowance(address owner, address spender) public view returns (uint256) {
        return allowed[owner][spender];
    }
}`,
                'token.usdtg': `// USDTgScript - Advanced Token Contract
import { QuantumSafe } from "usdtgverse/security";

@quantum_safe
contract AdvancedToken {
    string public name = "Advanced USDTg Token";
    string public symbol = "AUT";
    uint8 public decimals = 18;
    uint256 public totalSupply;
    
    mapping(address => uint256) public balances;
    mapping(address => mapping(address => uint256)) public allowances;
    
    address public owner;
    bool public paused = false;
    
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
    event Pause();
    event Unpause();
    
    modifier onlyOwner() {
        require(msg.sender == owner, "Only owner can call this function");
        _;
    }
    
    modifier whenNotPaused() {
        require(!paused, "Contract is paused");
        _;
    }
    
    constructor(uint256 _totalSupply) {
        totalSupply = _totalSupply;
        owner = msg.sender;
        balances[msg.sender] = totalSupply;
        emit Transfer(address(0), msg.sender, totalSupply);
    }
    
    @quantum_resistant
    function transfer(address to, uint256 value) public whenNotPaused returns (bool) {
        require(to != address(0), "Invalid address");
        require(balances[msg.sender] >= value, "Insufficient balance");
        
        balances[msg.sender] -= value;
        balances[to] += value;
        
        emit Transfer(msg.sender, to, value);
        return true;
    }
    
    function pause() public onlyOwner {
        paused = true;
        emit Pause();
    }
    
    function unpause() public onlyOwner {
        paused = false;
        emit Unpause();
    }
}`,
                'deploy.js': `// USDTgScript Deployment Script
const { USDTgVerse } = require('usdtgverse-sdk');
const fs = require('fs');

async function deployContract() {
    try {
        console.log('🚀 Starting contract deployment...');
        
        // Initialize USDTgVerse client
        const client = new USDTgVerse({
            network: 'mainnet',
            quantumSafe: true
        });
        
        // Load contract bytecode
        const contractCode = fs.readFileSync('./contract.usdtg', 'utf8');
        
        // Compile contract
        console.log('🔧 Compiling contract...');
        const compiled = await client.compile(contractCode);
        
        // Deploy contract
        console.log('📦 Deploying to USDTgVerse...');
        const deployment = await client.deploy({
            bytecode: compiled.bytecode,
            abi: compiled.abi,
            constructorArgs: [1000000] // 1M tokens
        });
        
        console.log('✅ Contract deployed successfully!');
        console.log('📍 Contract Address:', deployment.address);
        console.log('🔗 Transaction Hash:', deployment.txHash);
        console.log('⛽ Gas Used:', deployment.gasUsed);
        
    } catch (error) {
        console.error('❌ Deployment failed:', error.message);
    }
}

deployContract();`,
                'README.md': `# MyUSDTgProject

## Quantum-Safe Smart Contract Project

This project demonstrates advanced USDTgScript development with quantum-safe features.

### Features

- 🔐 Quantum-safe cryptography
- 🛡️ Advanced security measures
- ⚡ High-performance execution
- 🔧 Comprehensive testing
- 📦 Easy deployment

### Project Structure

\`\`\`
MyUSDTgProject/
├── contract.usdtg      # Main token contract
├── token.usdtg         # Advanced token features
├── deploy.js           # Deployment script
├── README.md           # Project documentation
└── Libraries/
    ├── USDTgSecurity.usdtg
    └── QuantumSafe.usdtg
\`\`\`

### Getting Started

1. Install USDTgVerse SDK
2. Compile contracts
3. Run tests
4. Deploy to mainnet

### Security

This project uses quantum-resistant algorithms and follows USDTgVerse security best practices.`
            };
            
            if (window.editor && fileContents[filename]) {
                window.editor.setValue(fileContents[filename]);
            }
        }

        function closeTab(filename) {
            const tab = document.querySelector(`[data-file="${filename}"]`);
            if (tab) {
                tab.remove();
            }
        }

        function runCode() {
            addTerminalLine('🚀 Running USDTgScript code...');
            addTerminalLine('🔧 Compiling with USDTgScript compiler...');
            addTerminalLine('⚛️ Quantum security validation...');
            addTerminalLine('🛡️ Formal verification checks...');
            addTerminalLine('✅ Compilation successful!');
            addTerminalLine('🎯 Ready for deployment.');
        }

        function compileCode() {
            addTerminalLine('🔧 Compiling USDTgScript...');
            addTerminalLine('📦 Generating quantum-safe bytecode...');
            addTerminalLine('🔐 Applying quantum-resistant algorithms...');
            addTerminalLine('⚡ Optimizing gas usage...');
            addTerminalLine('✅ Compilation completed successfully!');
            addTerminalLine('📊 Gas estimation: ~45,000 units');
        }

        function deployContract() {
            addTerminalLine('🚀 Deploying contract to USDTgVerse mainnet...');
            addTerminalLine('🔗 Connecting to USDTgVerse network...');
            addTerminalLine('⛽ Gas price: 20 Gwei');
            addTerminalLine('📦 Contract address: 0xUSDTg' + Math.random().toString(36).substr(2, 8).toUpperCase());
            addTerminalLine('🔗 Transaction hash: 0x' + Math.random().toString(36).substr(2, 16));
            addTerminalLine('✅ Contract deployed successfully!');
            addTerminalLine('🌐 View on explorer: https://explorer.usdtgverse.com/address/0xUSDTg...');
        }

        function debugCode() {
            addTerminalLine('🐛 Starting debug session...');
            addTerminalLine('🔍 Setting breakpoints...');
            addTerminalLine('📊 Variable inspection enabled...');
            addTerminalLine('⚡ Step-by-step execution ready...');
            addTerminalLine('▶️ Debug mode active.');
        }

        function saveFile() {
            addTerminalLine('💾 Saving file...');
            addTerminalLine('🔐 Applying quantum-safe encryption...');
            addTerminalLine('✅ File saved successfully.');
        }

        function stopExecution() {
            addTerminalLine('⏹️ Stopping execution...');
            addTerminalLine('🧹 Cleaning up resources...');
            addTerminalLine('✅ Execution stopped.');
        }

        function addTerminalLine(text) {
            const terminal = document.querySelector('.terminal');
            const line = document.createElement('div');
            line.className = 'terminal-line';
            line.innerHTML = `<span class="terminal-prompt">usdtg@quantum:~/project$</span> <span>${text}</span>`;
            
            // Remove the cursor line
            const cursorLine = terminal.querySelector('.terminal-line:last-child');
            if (cursorLine && cursorLine.innerHTML.includes('_')) {
                terminal.removeChild(cursorLine);
            }
            
            terminal.appendChild(line);
            
            // Add new cursor line
            const newCursorLine = document.createElement('div');
            newCursorLine.className = 'terminal-line';
            newCursorLine.innerHTML = `<span class="terminal-prompt">usdtg@quantum:~/project$</span> <span style="animation: blink 1s infinite;">_</span>`;
            terminal.appendChild(newCursorLine);
            
            terminal.scrollTop = terminal.scrollHeight;
        }

        // AI Assistant Functions
        function toggleAIAssistant() {
            const panel = document.getElementById('aiAssistantPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'flex';
            } else {
                panel.style.display = 'none';
            }
        }

        function sendAIMessage() {
            const input = document.getElementById('aiInput');
            const message = input.value.trim();
            if (message) {
                addAIMessage('user', message);
                input.value = '';
                
                // Simulate AI response
                setTimeout(() => {
                    const response = generateAIResponse(message);
                    addAIMessage('assistant', response);
                }, 1000);
            }
        }

        function sendAISuggestion(suggestion) {
            document.getElementById('aiInput').value = suggestion;
            sendAIMessage();
        }

        function handleAIKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendAIMessage();
            }
        }

        function addAIMessage(type, content) {
            const chat = document.getElementById('aiChat');
            const message = document.createElement('div');
            message.className = `ai-message ${type}`;
            message.innerHTML = content;
            chat.appendChild(message);
            chat.scrollTop = chat.scrollHeight;
        }

        function generateAIResponse(userMessage) {
            const responses = {
                'quantum-safe token': `Here's how to create a quantum-safe token in USDTgScript:

\`\`\`usdtgscript
@quantum_safe
@security_level(256)
contract QuantumSafeToken {
    using QuantumSafe for address;
    using USDTgSecurity for uint256;
    
    string public name = "Quantum Safe Token";
    string public symbol = "QST";
    uint8 public decimals = 18;
    uint256 public totalSupply;
    
    mapping(address => uint256) private balances;
    
    constructor(uint256 _totalSupply) {
        totalSupply = _totalSupply;
        balances[msg.sender] = _totalSupply;
    }
    
    @quantum_resistant
    function transfer(address to, uint256 value) public returns (bool) {
        require(to != address(0), "Invalid address");
        require(balances[msg.sender] >= value, "Insufficient balance");
        
        balances[msg.sender] = balances[msg.sender].safeSub(value);
        balances[to] = balances[to].safeAdd(value);
        
        return true;
    }
}
\`\`\`

Key features:
- @quantum_safe decorator for quantum resistance
- @security_level(256) for 256-bit security
- Quantum-safe arithmetic operations
- Address validation with quantum checks`,
                
                'compilation error': `To fix compilation errors in USDTgScript:

1. **Check syntax**: Ensure all brackets, semicolons, and quotes are properly closed
2. **Import statements**: Verify all imports are correct and available
3. **Variable declarations**: Make sure all variables are properly typed
4. **Function signatures**: Check parameter types and return types
5. **Quantum decorators**: Ensure @quantum_safe and @quantum_resistant are used correctly

Common fixes:
- Add missing semicolons
- Check import paths
- Verify variable names and types
- Ensure proper function visibility (public, private, internal)

Would you like me to analyze your specific code for errors?`,
                
                'gas optimization': `Gas optimization tips for USDTgScript:

1. **Use appropriate data types**:
   - Use uint8 instead of uint256 for small numbers
   - Use bytes32 instead of string for fixed data

2. **Optimize storage operations**:
   - Batch multiple operations
   - Use events instead of storage for non-critical data
   - Pack structs efficiently

3. **Function optimization**:
   - Use view/pure functions when possible
   - Minimize external calls
   - Cache frequently used values

4. **Quantum-safe optimizations**:
   - Use efficient quantum algorithms
   - Optimize cryptographic operations
   - Minimize quantum state operations

Example optimized function:
\`\`\`usdtgscript
function optimizedTransfer(address to, uint256 value) public returns (bool) {
    // Batch operations
    balances[msg.sender] -= value;
    balances[to] += value;
    
    // Use event instead of storage
    emit Transfer(msg.sender, to, value);
    return true;
}
\`\`\``,
                
                'explain code': `I'd be happy to explain your code! Please share the specific code snippet you'd like me to analyze, or I can explain:

- Contract structure and inheritance
- Function modifiers and visibility
- Quantum-safe programming patterns
- USDTgScript specific features
- Best practices and security considerations

Just paste your code and I'll provide a detailed explanation with examples and best practices.`
            };
            
            const lowerMessage = userMessage.toLowerCase();
            for (const [key, response] of Object.entries(responses)) {
                if (lowerMessage.includes(key)) {
                    return response;
                }
            }
            
            return `I understand you're asking about: "${userMessage}"

I can help you with:
- **Code analysis**: Paste your code for detailed explanation
- **Error debugging**: Share error messages for specific fixes
- **Best practices**: Get recommendations for USDTgScript development
- **Quantum programming**: Learn quantum-safe programming techniques
- **Deployment**: Get guidance on contract deployment

Please be more specific about what you'd like help with, or use one of the suggestion buttons above!`;
        }

        // Debug Functions
        function toggleDebugPanel() {
            const panel = document.getElementById('debugPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'flex';
            } else {
                panel.style.display = 'none';
            }
        }

        function switchDebugTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.debug-tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.debug-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function toggleBreakpoint(breakpointItem) {
            const toggle = breakpointItem.querySelector('.breakpoint-toggle');
            if (toggle.classList.contains('disabled')) {
                toggle.classList.remove('disabled');
                addTerminalLine('🔴 Breakpoint enabled: ' + breakpointItem.textContent.trim());
            } else {
                toggle.classList.add('disabled');
                addTerminalLine('⚪ Breakpoint disabled: ' + breakpointItem.textContent.trim());
            }
        }

        function stepOver() {
            addTerminalLine('⏭️ Step Over: Executing current line');
            updateVariables();
            updateCallStack();
        }

        function stepInto() {
            addTerminalLine('⏬ Step Into: Entering function call');
            updateVariables();
            updateCallStack();
        }

        function stepOut() {
            addTerminalLine('⏫ Step Out: Exiting current function');
            updateVariables();
            updateCallStack();
        }

        function continueExecution() {
            addTerminalLine('▶️ Continue: Resuming execution');
            addTerminalLine('🔍 Hit breakpoint at contract.usdtg:25');
            updateVariables();
            updateCallStack();
        }

        function stopDebugging() {
            addTerminalLine('⏹️ Stop: Debugging session ended');
            document.getElementById('debugPanel').style.display = 'none';
        }

        function updateVariables() {
            // Simulate variable updates during debugging
            const variables = document.querySelectorAll('.variable-item');
            variables.forEach(variable => {
                const valueSpan = variable.querySelector('.variable-value');
                if (valueSpan.textContent.includes('0xUSDTg')) {
                    valueSpan.textContent = '0xUSDTg' + Math.random().toString(36).substr(2, 8).toUpperCase();
                } else if (valueSpan.textContent.includes('0000000000000000000')) {
                    const newValue = Math.floor(Math.random() * 10000000000000000000);
                    valueSpan.textContent = newValue.toString();
                }
            });
        }

        function updateCallStack() {
            // Simulate call stack updates
            const stackFrames = document.querySelectorAll('.stack-frame');
            stackFrames.forEach((frame, index) => {
                if (index === 0) {
                    frame.classList.add('active');
                } else {
                    frame.classList.remove('active');
                }
            });
        }

        // Project Management Functions
        function showProjectMenu() {
            const menu = document.getElementById('projectMenu');
            if (menu.style.display === 'none' || menu.style.display === '') {
                menu.style.display = 'block';
            } else {
                menu.style.display = 'none';
            }
        }

        function createNewProject() {
            document.getElementById('projectMenu').style.display = 'none';
            document.getElementById('newProjectDialog').style.display = 'block';
        }

        function openProject() {
            document.getElementById('projectMenu').style.display = 'none';
            document.getElementById('openProjectDialog').style.display = 'block';
        }

        function saveProject() {
            addTerminalLine('💾 Saving project...');
            addTerminalLine('✅ Project saved successfully!');
        }

        function saveProjectAs() {
            document.getElementById('projectMenu').style.display = 'none';
            document.getElementById('saveProjectDialog').style.display = 'block';
        }

        function importProject() {
            addTerminalLine('📥 Importing project...');
            addTerminalLine('✅ Project imported successfully!');
        }

        function exportProject() {
            addTerminalLine('📤 Exporting project...');
            addTerminalLine('✅ Project exported successfully!');
        }

        function projectSettings() {
            addTerminalLine('⚙️ Opening project settings...');
            addTerminalLine('📋 Project configuration loaded.');
        }

        function closeProject() {
            addTerminalLine('❌ Closing project...');
            addTerminalLine('✅ Project closed successfully!');
        }

        function closeProjectDialog(dialogId) {
            document.getElementById(dialogId).style.display = 'none';
        }

        function confirmNewProject() {
            const name = document.getElementById('newProjectName').value;
            const path = document.getElementById('newProjectPath').value;
            
            addTerminalLine('📁 Creating new project: ' + name);
            addTerminalLine('📂 Project path: ' + path);
            addTerminalLine('✅ Project created successfully!');
            
            document.getElementById('newProjectDialog').style.display = 'none';
        }

        function confirmOpenProject() {
            const path = document.getElementById('openProjectPath').value;
            
            addTerminalLine('📂 Opening project from: ' + path);
            addTerminalLine('✅ Project opened successfully!');
            
            document.getElementById('openProjectDialog').style.display = 'none';
        }

        function confirmSaveProject() {
            const name = document.getElementById('saveProjectName').value;
            const path = document.getElementById('saveProjectPath').value;
            
            addTerminalLine('💾 Saving project as: ' + name);
            addTerminalLine('📂 Project path: ' + path);
            addTerminalLine('✅ Project saved successfully!');
            
            document.getElementById('saveProjectDialog').style.display = 'none';
        }

        // Close project menu when clicking outside
        document.addEventListener('click', function(event) {
            const projectMenu = document.getElementById('projectMenu');
            const fileMenuItem = document.querySelector('.menu-item[onclick="showProjectMenu()"]');
            
            if (!projectMenu.contains(event.target) && !fileMenuItem.contains(event.target)) {
                projectMenu.style.display = 'none';
            }
        });

        // Git Functions
        function toggleGitPanel() {
            const panel = document.getElementById('gitPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'flex';
            } else {
                panel.style.display = 'none';
            }
        }

        function switchGitTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.git-tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.git-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function gitAddAll() {
            addTerminalLine('📋 Adding all files to Git...');
            addTerminalLine('✅ All files added to staging area');
        }

        function gitReset() {
            addTerminalLine('🔄 Resetting Git changes...');
            addTerminalLine('✅ Git reset completed');
        }

        function gitCommit() {
            const message = document.getElementById('gitCommitMessage').value;
            const branch = document.getElementById('gitBranch').value;
            
            addTerminalLine('💾 Committing changes...');
            addTerminalLine('📝 Commit message: ' + message);
            addTerminalLine('🌿 Branch: ' + branch);
            addTerminalLine('✅ Commit successful!');
        }

        function gitPush() {
            const branch = document.getElementById('gitBranch').value;
            
            addTerminalLine('🚀 Pushing to remote repository...');
            addTerminalLine('🌿 Branch: ' + branch);
            addTerminalLine('✅ Push successful!');
        }

        // File Manager Functions
        function toggleFileManager() {
            const panel = document.getElementById('fileManagerPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'flex';
            } else {
                panel.style.display = 'none';
            }
        }

        function switchFileTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.git-tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.git-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function handleFileSelect(event) {
            const files = event.target.files;
            const uploadList = document.getElementById('uploadList');
            uploadList.innerHTML = '';
            
            for (let file of files) {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-list-item';
                fileItem.innerHTML = `
                    <span class="file-name">${file.name}</span>
                    <span class="file-size">${(file.size / 1024).toFixed(1)} KB</span>
                    <div class="file-actions">
                        <button class="file-upload-button" onclick="uploadFile('${file.name}')">Upload</button>
                    </div>
                `;
                uploadList.appendChild(fileItem);
            }
        }

        function handleFileDrop(event) {
            event.preventDefault();
            event.target.classList.remove('dragover');
            
            const files = event.dataTransfer.files;
            const uploadList = document.getElementById('uploadList');
            uploadList.innerHTML = '';
            
            for (let file of files) {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-list-item';
                fileItem.innerHTML = `
                    <span class="file-name">${file.name}</span>
                    <span class="file-size">${(file.size / 1024).toFixed(1)} KB</span>
                    <div class="file-actions">
                        <button class="file-upload-button" onclick="uploadFile('${file.name}')">Upload</button>
                    </div>
                `;
                uploadList.appendChild(fileItem);
            }
        }

        function handleDragOver(event) {
            event.preventDefault();
            event.target.classList.add('dragover');
        }

        function handleDragLeave(event) {
            event.target.classList.remove('dragover');
        }

        function uploadFile(filename) {
            addTerminalLine('📁 Uploading file: ' + filename);
            addTerminalLine('✅ File uploaded successfully!');
        }

        function uploadSelectedFiles() {
            addTerminalLine('📁 Uploading selected files...');
            addTerminalLine('✅ All files uploaded successfully!');
        }

        function clearUploadList() {
            document.getElementById('uploadList').innerHTML = '';
            document.getElementById('fileInput').value = '';
        }

        function downloadFile(filename) {
            addTerminalLine('📥 Downloading file: ' + filename);
            addTerminalLine('✅ File downloaded successfully!');
        }

        function downloadAllFiles() {
            addTerminalLine('📥 Downloading all files...');
            addTerminalLine('✅ All files downloaded successfully!');
        }

        function downloadProject() {
            addTerminalLine('📦 Downloading project as ZIP...');
            addTerminalLine('✅ Project downloaded successfully!');
        }

        function createNewFile() {
            const filename = prompt('Enter filename:');
            if (filename) {
                addTerminalLine('📄 Creating new file: ' + filename);
                addTerminalLine('✅ File created successfully!');
            }
        }

        function createNewFolder() {
            const foldername = prompt('Enter folder name:');
            if (foldername) {
                addTerminalLine('📁 Creating new folder: ' + foldername);
                addTerminalLine('✅ Folder created successfully!');
            }
        }

        function openFileInEditor(filename) {
            addTerminalLine('📄 Opening file in editor: ' + filename);
            openFile(filename);
        }

        function deleteFile(filename) {
            if (confirm('Are you sure you want to delete ' + filename + '?')) {
                addTerminalLine('🗑️ Deleting file: ' + filename);
                addTerminalLine('✅ File deleted successfully!');
            }
        }

        // Collaboration Functions
        function toggleCollaboration() {
            const panel = document.getElementById('collaborationPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'flex';
            } else {
                panel.style.display = 'none';
            }
        }

        function switchCollaborationTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.collaboration-tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.collaboration-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName + '-tab').style.display = 'block';
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function inviteUser() {
            const email = prompt('Enter user email:');
            if (email) {
                addTerminalLine('👥 Inviting user: ' + email);
                addTerminalLine('✅ Invitation sent successfully!');
            }
        }

        function shareProject() {
            addTerminalLine('🔗 Sharing project...');
            addTerminalLine('✅ Project shared successfully!');
        }

        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (message) {
                addChatMessage('You', message);
                input.value = '';
                
                // Simulate response
                setTimeout(() => {
                    const responses = [
                        'Thanks for the update!',
                        'I\'ll review that code',
                        'Great work on the quantum features!',
                        'Let me check the deployment script'
                    ];
                    const response = responses[Math.floor(Math.random() * responses.length)];
                    addChatMessage('Team Member', response);
                }, 1000);
            }
        }

        function addChatMessage(sender, message) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message user';
            messageDiv.innerHTML = `<strong>${sender}:</strong> ${message}`;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendChatMessage();
            }
        }

        function copyShareLink() {
            const shareLink = document.getElementById('shareLink');
            shareLink.select();
            document.execCommand('copy');
            addTerminalLine('📋 Share link copied to clipboard!');
        }

        function generateShareLink() {
            const newLink = 'https://ide.usdtgverse.com/project/' + Math.random().toString(36).substr(2, 8);
            document.getElementById('shareLink').value = newLink;
            addTerminalLine('🔗 New share link generated!');
        }

        function revokeAccess() {
            if (confirm('Are you sure you want to revoke access for all users?')) {
                addTerminalLine('🚫 Access revoked for all users');
            }
        }

        function startScreenShare() {
            addTerminalLine('📺 Starting screen share...');
            addTerminalLine('✅ Screen share started!');
        }

        function toggleVoiceChat() {
            addTerminalLine('🎤 Toggling voice chat...');
            addTerminalLine('✅ Voice chat toggled!');
        }

        // Themes & Customization Functions
        function toggleThemes() {
            const panel = document.getElementById('themesPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'flex';
            } else {
                panel.style.display = 'none';
            }
        }

        function changeTheme(themeName) {
            // Remove active class from all theme options
            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('active');
            });
            
            // Add active class to selected theme
            event.target.closest('.theme-option').classList.add('active');
            
            // Change Monaco Editor theme
            if (window.editor) {
                monaco.editor.setTheme(themeName);
            }
            
            addTerminalLine('🎨 Theme changed to: ' + themeName);
        }

        function changeFontSize(size) {
            if (window.editor) {
                window.editor.updateOptions({ fontSize: parseInt(size) });
            }
            addTerminalLine('🔤 Font size changed to: ' + size + 'px');
        }

        function changeFontFamily(family) {
            if (window.editor) {
                window.editor.updateOptions({ fontFamily: family });
            }
            addTerminalLine('🔤 Font family changed to: ' + family);
        }

        function toggleOption(toggle, option) {
            toggle.classList.toggle('active');
            const isActive = toggle.classList.contains('active');
            
            if (window.editor) {
                switch(option) {
                    case 'wordWrap':
                        window.editor.updateOptions({ wordWrap: isActive ? 'on' : 'off' });
                        break;
                    case 'minimap':
                        window.editor.updateOptions({ minimap: { enabled: isActive } });
                        break;
                    case 'lineNumbers':
                        window.editor.updateOptions({ lineNumbers: isActive ? 'on' : 'off' });
                        break;
                    case 'folding':
                        window.editor.updateOptions({ folding: isActive });
                        break;
                    case 'renderWhitespace':
                        window.editor.updateOptions({ renderWhitespace: isActive ? 'selection' : 'none' });
                        break;
                }
            }
            
            addTerminalLine('⚙️ ' + option + ' ' + (isActive ? 'enabled' : 'disabled'));
        }

        // Plugin System Functions
        function togglePlugins() {
            const panel = document.getElementById('pluginsPanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'flex';
            } else {
                panel.style.display = 'none';
            }
        }

        function togglePlugin(toggle, pluginId) {
            toggle.classList.toggle('active');
            const isActive = toggle.classList.contains('active');
            const pluginItem = toggle.closest('.plugin-item');
            
            if (isActive) {
                pluginItem.classList.add('enabled');
            } else {
                pluginItem.classList.remove('enabled');
            }
            
            addTerminalLine('🔌 Plugin ' + pluginId + ' ' + (isActive ? 'enabled' : 'disabled'));
        }

        function installPlugin(pluginId) {
            addTerminalLine('📦 Installing plugin: ' + pluginId);
            addTerminalLine('✅ Plugin installed successfully!');
        }

        function refreshPlugins() {
            addTerminalLine('🔄 Refreshing plugin list...');
            addTerminalLine('✅ Plugin list refreshed!');
        }

        function openPluginStore() {
            addTerminalLine('🏪 Opening plugin store...');
            addTerminalLine('✅ Plugin store opened!');
        }

        function createCustomPlugin() {
            const pluginName = prompt('Enter plugin name:');
            if (pluginName) {
                addTerminalLine('🛠️ Creating custom plugin: ' + pluginName);
                addTerminalLine('✅ Custom plugin created!');
            }
        }

        // Performance Profiling Functions
        function togglePerformance() {
            const panel = document.getElementById('performancePanel');
            if (panel.style.display === 'none') {
                panel.style.display = 'flex';
                initializePerformanceChart();
            } else {
                panel.style.display = 'none';
            }
        }

        function initializePerformanceChart() {
            const chart = document.getElementById('gasChart');
            chart.innerHTML = '';
            
            // Generate random chart bars
            for (let i = 0; i < 20; i++) {
                const bar = document.createElement('div');
                bar.className = 'chart-bar';
                bar.style.left = (i * 5) + 'px';
                bar.style.height = Math.random() * 80 + 20 + 'px';
                chart.appendChild(bar);
            }
        }

        function startProfiling() {
            addTerminalLine('📊 Starting performance profiling...');
            addTerminalLine('✅ Performance profiler started!');
            
            // Simulate real-time updates
            setInterval(updatePerformanceMetrics, 1000);
        }

        function stopProfiling() {
            addTerminalLine('⏹️ Stopping performance profiling...');
            addTerminalLine('✅ Performance profiler stopped!');
        }

        function exportReport() {
            addTerminalLine('📄 Exporting performance report...');
            addTerminalLine('✅ Performance report exported!');
        }

        function clearMetrics() {
            addTerminalLine('🧹 Clearing performance metrics...');
            addTerminalLine('✅ Performance metrics cleared!');
        }

        function updatePerformanceMetrics() {
            // Simulate real-time metric updates
            const metrics = [
                { id: 'cpuUsage', value: Math.floor(Math.random() * 30) + 10 + '%' },
                { id: 'memoryUsage', value: Math.floor(Math.random() * 100) + 200 + ' MB' },
                { id: 'diskIO', value: Math.floor(Math.random() * 20) + 5 + ' MB/s' },
                { id: 'networkIO', value: Math.floor(Math.random() * 15) + 5 + ' KB/s' },
                { id: 'renderingFPS', value: Math.floor(Math.random() * 10) + 55 + ' FPS' },
                { id: 'typingLatency', value: Math.floor(Math.random() * 5) + 1 + 'ms' },
                { id: 'syntaxHighlighting', value: Math.floor(Math.random() * 10) + 3 + 'ms' },
                { id: 'codeCompletion', value: Math.floor(Math.random() * 15) + 8 + 'ms' },
                { id: 'estimatedGas', value: Math.floor(Math.random() * 20000) + 30000 },
                { id: 'gasEfficiency', value: Math.floor(Math.random() * 20) + 75 + '%' },
                { id: 'optimizationScore', value: Math.floor(Math.random() * 20) + 80 + '/100' },
                { id: 'quantumOps', value: Math.floor(Math.random() * 50) + 130 + ' ops/s' },
                { id: 'encryptionSpeed', value: (Math.random() * 1 + 1.5).toFixed(1) + ' MB/s' },
                { id: 'hashRate', value: (Math.random() * 0.5 + 1).toFixed(1) + ' MH/s' }
            ];
            
            metrics.forEach(metric => {
                const element = document.getElementById(metric.id);
                if (element) {
                    element.textContent = metric.value;
                }
            });
        }

        // Test Framework Functions
        function toggleTests() {
            const panel = document.getElementById('testsPanel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        }

        function runAllTests() {
            addTerminalLine('🧪 Running all tests...');
            const testItems = document.querySelectorAll('.test-item');
            testItems.forEach(item => {
                if (item.classList.contains('pending')) {
                    item.classList.remove('pending');
                    item.classList.add('running');
                    const status = item.querySelector('.test-status');
                    status.textContent = 'RUNNING';
                    status.className = 'test-status running';
                }
            });
            
            // Simulate test execution
            setTimeout(() => {
                testItems.forEach(item => {
                    if (item.classList.contains('running')) {
                        const random = Math.random();
                        if (random > 0.2) {
                            item.classList.remove('running');
                            item.classList.add('passed');
                            const status = item.querySelector('.test-status');
                            status.textContent = 'PASSED';
                            status.className = 'test-status passed';
                        } else {
                            item.classList.remove('running');
                            item.classList.add('failed');
                            const status = item.querySelector('.test-status');
                            status.textContent = 'FAILED';
                            status.className = 'test-status failed';
                        }
                    }
                });
                addTerminalLine('✅ All tests completed!');
            }, 2000);
        }

        function runSelectedTests() {
            addTerminalLine('🎯 Running selected tests...');
            addTerminalLine('✅ Selected tests completed!');
        }

        function stopTests() {
            addTerminalLine('⏹️ Stopping tests...');
            const testItems = document.querySelectorAll('.test-item');
            testItems.forEach(item => {
                if (item.classList.contains('running')) {
                    item.classList.remove('running');
                    item.classList.add('pending');
                    const status = item.querySelector('.test-status');
                    status.textContent = 'PENDING';
                    status.className = 'test-status pending';
                }
            });
            addTerminalLine('✅ Tests stopped!');
        }

        function generateTestReport() {
            addTerminalLine('📄 Generating test report...');
            const passedTests = document.querySelectorAll('.test-item.passed').length;
            const failedTests = document.querySelectorAll('.test-item.failed').length;
            const totalTests = document.querySelectorAll('.test-item').length;
            
            const report = `Test Report\n==========\nTotal Tests: ${totalTests}\nPassed: ${passedTests}\nFailed: ${failedTests}\nSuccess Rate: ${((passedTests / totalTests) * 100).toFixed(1)}%`;
            
            addTerminalLine('📊 Test Report:');
            addTerminalLine(`   Total Tests: ${totalTests}`);
            addTerminalLine(`   Passed: ${passedTests}`);
            addTerminalLine(`   Failed: ${failedTests}`);
            addTerminalLine(`   Success Rate: ${((passedTests / totalTests) * 100).toFixed(1)}%`);
        }

        function clearTestResults() {
            addTerminalLine('🧹 Clearing test results...');
            const testItems = document.querySelectorAll('.test-item');
            testItems.forEach(item => {
                item.classList.remove('passed', 'failed', 'running');
                item.classList.add('pending');
                const status = item.querySelector('.test-status');
                status.textContent = 'PENDING';
                status.className = 'test-status pending';
            });
            addTerminalLine('✅ Test results cleared!');
        }

        // Documentation Panel Functions
        function toggleDocumentation() {
            const panel = document.getElementById('documentationPanel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        }

        function switchDocTab(tabName) {
            // Remove active class from all tabs
            document.querySelectorAll('.documentation-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Hide all documentation sections
            document.querySelectorAll('.documentation-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Activate selected tab
            event.target.classList.add('active');
            
            // Show selected section
            const sectionId = tabName + 'Doc';
            const section = document.getElementById(sectionId);
            if (section) {
                section.style.display = 'block';
            }
        }

        function searchDocumentation(query) {
            const items = document.querySelectorAll('.documentation-item');
            const searchTerm = query.toLowerCase();
            
            items.forEach(item => {
                const title = item.querySelector('h5').textContent.toLowerCase();
                const description = item.querySelector('p').textContent.toLowerCase();
                const example = item.querySelector('.example') ? item.querySelector('.example').textContent.toLowerCase() : '';
                
                if (title.includes(searchTerm) || description.includes(searchTerm) || example.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Settings Panel Functions
        function toggleSettings() {
            const panel = document.getElementById('settingsPanel');
            panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
        }

        // Editor Settings
        function updateFontFamily(fontFamily) {
            if (editor) {
                editor.updateOptions({ fontFamily: fontFamily });
            }
            addTerminalLine(`🔤 Font family changed to: ${fontFamily}`);
        }

        function updateFontSize(size) {
            if (editor) {
                editor.updateOptions({ fontSize: parseInt(size) });
            }
            document.getElementById('fontSizeValue').textContent = size + 'px';
            addTerminalLine(`📏 Font size changed to: ${size}px`);
        }

        function updateLineHeight(height) {
            if (editor) {
                editor.updateOptions({ lineHeight: parseFloat(height) });
            }
            document.getElementById('lineHeightValue').textContent = height;
            addTerminalLine(`📐 Line height changed to: ${height}`);
        }

        function updateWordWrap(enabled) {
            if (editor) {
                editor.updateOptions({ wordWrap: enabled ? 'on' : 'off' });
            }
            addTerminalLine(`📝 Word wrap ${enabled ? 'enabled' : 'disabled'}`);
        }

        function updateLineNumbers(enabled) {
            if (editor) {
                editor.updateOptions({ lineNumbers: enabled ? 'on' : 'off' });
            }
            addTerminalLine(`🔢 Line numbers ${enabled ? 'enabled' : 'disabled'}`);
        }

        function updateMinimap(enabled) {
            if (editor) {
                editor.updateOptions({ minimap: { enabled: enabled } });
            }
            addTerminalLine(`🗺️ Minimap ${enabled ? 'enabled' : 'disabled'}`);
        }

        function updateAutoSave(enabled) {
            addTerminalLine(`💾 Auto save ${enabled ? 'enabled' : 'disabled'}`);
        }

        function updateAutoComplete(enabled) {
            addTerminalLine(`🔮 Auto complete ${enabled ? 'enabled' : 'disabled'}`);
        }

        // USDTgScript Settings
        function updateOptimizationLevel(level) {
            addTerminalLine(`⚡ Optimization level set to: ${level}`);
        }

        function updateGasLimit(limit) {
            addTerminalLine(`⛽ Gas limit set to: ${limit}`);
        }

        function updateQuantumSafety(enabled) {
            addTerminalLine(`🔒 Quantum safety ${enabled ? 'enabled' : 'disabled'}`);
        }

        function updateNetwork(network) {
            addTerminalLine(`🌐 Network changed to: ${network}`);
        }

        function updateRpcUrl(url) {
            addTerminalLine(`🔗 RPC URL updated: ${url}`);
        }

        function updateChainId(id) {
            addTerminalLine(`⛓️ Chain ID set to: ${id}`);
        }

        // Advanced Settings
        function updateMaxMemory(memory) {
            document.getElementById('maxMemoryValue').textContent = memory + 'MB';
            addTerminalLine(`💾 Max memory usage set to: ${memory}MB`);
        }

        function updateHardwareAcceleration(enabled) {
            addTerminalLine(`🚀 Hardware acceleration ${enabled ? 'enabled' : 'disabled'}`);
        }

        function updateBackgroundCompilation(enabled) {
            addTerminalLine(`🔄 Background compilation ${enabled ? 'enabled' : 'disabled'}`);
        }

        function updateQuantumEncryption(enabled) {
            addTerminalLine(`🔐 Quantum encryption ${enabled ? 'enabled' : 'disabled'}`);
        }

        function updateAutoLock(minutes) {
            document.getElementById('autoLockValue').textContent = minutes + 'min';
            addTerminalLine(`🔒 Auto-lock set to: ${minutes} minutes`);
        }

        function updateAuditLogging(enabled) {
            addTerminalLine(`📋 Audit logging ${enabled ? 'enabled' : 'disabled'}`);
        }

        // Settings Management
        function saveSettings() {
            const settings = {
                fontFamily: document.getElementById('fontFamily').value,
                fontSize: document.getElementById('fontSize').value,
                lineHeight: document.getElementById('lineHeight').value,
                wordWrap: document.getElementById('wordWrap').checked,
                lineNumbers: document.getElementById('lineNumbers').checked,
                minimap: document.getElementById('minimap').checked,
                autoSave: document.getElementById('autoSave').checked,
                autoComplete: document.getElementById('autoComplete').checked,
                optimizationLevel: document.getElementById('optimizationLevel').value,
                gasLimit: document.getElementById('gasLimit').value,
                quantumSafety: document.getElementById('quantumSafety').checked,
                network: document.getElementById('network').value,
                rpcUrl: document.getElementById('rpcUrl').value,
                chainId: document.getElementById('chainId').value,
                maxMemory: document.getElementById('maxMemory').value,
                hardwareAcceleration: document.getElementById('hardwareAcceleration').checked,
                backgroundCompilation: document.getElementById('backgroundCompilation').checked,
                quantumEncryption: document.getElementById('quantumEncryption').checked,
                autoLock: document.getElementById('autoLock').value,
                auditLogging: document.getElementById('auditLogging').checked
            };
            
            localStorage.setItem('usdtgverse-ide-settings', JSON.stringify(settings));
            addTerminalLine('💾 Settings saved successfully!');
        }

        function resetSettings() {
            if (confirm('Are you sure you want to reset all settings to default?')) {
                localStorage.removeItem('usdtgverse-ide-settings');
                location.reload();
            }
        }

        function exportSettings() {
            const settings = localStorage.getItem('usdtgverse-ide-settings');
            if (settings) {
                const blob = new Blob([settings], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'usdtgverse-ide-settings.json';
                a.click();
                URL.revokeObjectURL(url);
                addTerminalLine('📤 Settings exported successfully!');
            } else {
                addTerminalLine('❌ No settings to export');
            }
        }

        function importSettings() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const settings = JSON.parse(e.target.result);
                            localStorage.setItem('usdtgverse-ide-settings', JSON.stringify(settings));
                            location.reload();
                        } catch (error) {
                            addTerminalLine('❌ Invalid settings file');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }

        // Load settings on page load
        function loadSettings() {
            const settings = localStorage.getItem('usdtgverse-ide-settings');
            if (settings) {
                try {
                    const parsedSettings = JSON.parse(settings);
                    Object.keys(parsedSettings).forEach(key => {
                        const element = document.getElementById(key);
                        if (element) {
                            if (element.type === 'checkbox') {
                                element.checked = parsedSettings[key];
                            } else {
                                element.value = parsedSettings[key];
                            }
                        }
                    });
                    addTerminalLine('⚙️ Settings loaded from storage');
                } catch (error) {
                    addTerminalLine('❌ Error loading settings');
                }
            }
        }

        // Responsive sidebar toggle
        function toggleSidebar() {
            document.querySelector('.sidebar').classList.toggle('open');
        }

        // Add mobile menu button
        if (window.innerWidth <= 480) {
            const menuLeft = document.querySelector('.menu-left');
            const menuButton = document.createElement('button');
            menuButton.innerHTML = '☰';
            menuButton.style.cssText = 'background: none; border: none; color: white; font-size: 16px; cursor: pointer; margin-right: 10px;';
            menuButton.onclick = toggleSidebar;
            menuLeft.insertBefore(menuButton, menuLeft.firstChild);
        }

        // Blinking cursor animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes blink {
                0%, 50% { opacity: 1; }
                51%, 100% { opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Tab Management Functions
        function switchTab(tabElement) {
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Add active class to clicked tab
            tabElement.classList.add('active');
            
            // Update editor content based on selected file
            const fileName = tabElement.getAttribute('data-file');
            updateEditorContent(fileName);
            
            addTerminalLine(`📄 Switched to file: ${fileName}`);
        }

        function closeTab(closeButton, event) {
            event.stopPropagation();
            const tab = closeButton.parentElement;
            const fileName = tab.getAttribute('data-file');
            
            // Don't close if it's the last tab
            const allTabs = document.querySelectorAll('.tab');
            if (allTabs.length <= 1) {
                addTerminalLine(`❌ Cannot close the last tab`);
                return;
            }
            
            // Remove the tab
            tab.remove();
            
            // If closed tab was active, activate another tab
            if (tab.classList.contains('active')) {
                const remainingTabs = document.querySelectorAll('.tab');
                if (remainingTabs.length > 0) {
                    switchTab(remainingTabs[0]);
                }
            }
            
            addTerminalLine(`❌ Closed file: ${fileName}`);
        }

        function updateEditorContent(fileName) {
            if (!editor) return;
            
            const fileContents = {
                'contract.usdtg': `// USDTgScript - Quantum-Safe Smart Contract
import "QuantumSafe.usdtg";
import "USDTgSecurity.usdtg";

@quantum_safe
@security_level(256)
contract MyQuantumToken extends UST1Token {
    // Public variables
    string public name = "My Quantum Token";
    string public symbol = "MQT";
    uint8 public decimals = 18;
    uint256 public totalSupply = 1000000 * 10**18;
    
    // Private mappings
    mapping(address => uint256) private balances;
    mapping(address => mapping(address => uint256)) private allowed;
    
    // Events
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
    
    // Constructor
    constructor() {
        balances[msg.sender] = totalSupply;
    }
    
    // Quantum-safe transfer function
    @quantum_resistant
    function transfer(address to, uint256 amount) public returns (bool) {
        require(balances[msg.sender] >= amount, "Insufficient balance");
        require(to != address(0), "Invalid recipient");
        
        balances[msg.sender] -= amount;
        balances[to] += amount;
        
        emit Transfer(msg.sender, to, amount);
        return true;
    }
    
    // Quantum-safe approval function
    @quantum_resistant
    function approve(address spender, uint256 amount) public returns (bool) {
        allowed[msg.sender][spender] = amount;
        emit Approval(msg.sender, spender, amount);
        return true;
    }
    
    // Get balance function
    function balanceOf(address account) public view returns (uint256) {
        return balances[account];
    }
    
    // Get allowance function
    function allowance(address owner, address spender) public view returns (uint256) {
        return allowed[owner][spender];
    }
}`,
                'token.usdtg': `// USDTgScript - Advanced Token Contract
import "QuantumSafe.usdtg";
import "USDTgSecurity.usdtg";

@quantum_safe
@security_level(512)
contract AdvancedToken extends UST1Token {
    string public name = "Advanced USDTg Token";
    string public symbol = "AUT";
    uint8 public decimals = 18;
    uint256 public totalSupply = 5000000 * 10**18;
    
    mapping(address => uint256) private balances;
    mapping(address => mapping(address => uint256)) private allowances;
    mapping(address => bool) private isBlacklisted;
    
    address public owner;
    bool public paused = false;
    
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
    event Paused(address account);
    event Unpaused(address account);
    event Blacklisted(address account);
    event Unblacklisted(address account);
    
    modifier onlyOwner() {
        require(msg.sender == owner, "Only owner can call this function");
        _;
    }
    
    modifier whenNotPaused() {
        require(!paused, "Contract is paused");
        _;
    }
    
    modifier notBlacklisted(address account) {
        require(!isBlacklisted[account], "Account is blacklisted");
        _;
    }
    
    constructor() {
        owner = msg.sender;
        balances[msg.sender] = totalSupply;
    }
    
    @quantum_resistant
    function transfer(address to, uint256 amount) 
        public 
        whenNotPaused 
        notBlacklisted(msg.sender) 
        notBlacklisted(to) 
        returns (bool) 
    {
        require(balances[msg.sender] >= amount, "Insufficient balance");
        require(to != address(0), "Invalid recipient");
        
        balances[msg.sender] -= amount;
        balances[to] += amount;
        
        emit Transfer(msg.sender, to, amount);
        return true;
    }
    
    function pause() public onlyOwner {
        paused = true;
        emit Paused(msg.sender);
    }
    
    function unpause() public onlyOwner {
        paused = false;
        emit Unpaused(msg.sender);
    }
    
    function blacklist(address account) public onlyOwner {
        isBlacklisted[account] = true;
        emit Blacklisted(account);
    }
    
    function unblacklist(address account) public onlyOwner {
        isBlacklisted[account] = false;
        emit Unblacklisted(account);
    }
}`
            };
            
            const content = fileContents[fileName] || `// File: ${fileName}\n// Content not available`;
            editor.setValue(content);
        }

        // Panel Tab Management
        function switchPanelTab(tabElement, panelId) {
            // Remove active class from all panel tabs
            document.querySelectorAll('.panel-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Add active class to clicked tab
            tabElement.classList.add('active');
            
            // Hide all panel contents
            document.querySelectorAll('.panel-content > div').forEach(panel => {
                panel.style.display = 'none';
                panel.classList.remove('active');
            });
            
            // Show selected panel
            const selectedPanel = document.getElementById(panelId);
            if (selectedPanel) {
                selectedPanel.style.display = 'block';
                selectedPanel.classList.add('active');
            }
            
            addTerminalLine(`🔄 Switched to ${panelId} panel`);
        }

        // Core IDE Functions
        function runCode() {
            addTerminalLine('▶️ Running code...');
            addTerminalLine('✅ Code executed successfully!');
        }

        function compileCode() {
            addTerminalLine('🔧 Compiling USDTgScript...');
            addTerminalLine('✅ Compilation successful!');
            addTerminalLine('📊 Gas estimation: 45,230');
        }

        function deployContract() {
            addTerminalLine('☁️ Deploying contract to USDTgVerse...');
            addTerminalLine('✅ Contract deployed successfully!');
            addTerminalLine('📍 Contract address: 0x742d35Cc6634C0532925a3b8D4C9db96C4b4d8b6');
        }

        function saveFile() {
            addTerminalLine('💾 Saving file...');
            addTerminalLine('✅ File saved successfully!');
        }

        function stopExecution() {
            addTerminalLine('⏹️ Stopping execution...');
            addTerminalLine('✅ Execution stopped!');
        }

        // Load settings on initialization
        loadSettings();
        
        console.log('🚀 USDTgScript IDE Pro initialized!');
        console.log('⚛️ Quantum-safe development environment ready.');
    </script>

</body>
</html>
